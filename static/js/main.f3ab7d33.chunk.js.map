{"version":3,"sources":["../../../packages/ckit/dist/helpers/pw.serde.js","../../../packages/ckit/dist/tx-builders/AcpTransferSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/unipass/config.js","../../../packages/ckit/dist/tx-builders/TransferCkbBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferCkbPwBuilder.js","../../../packages/ckit/dist/tx-builders/MintSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/MintSudtPwBuilder.js","../../../packages/ckit/dist/helpers/Amount.js","../../../packages/ckit/dist/tx-builders/rc/index.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellBuilder.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtPwBuilder.js","../../../packages/ckit/dist/wallets/pw/PwAdapterSigner.js","../../../packages/ckit/dist/wallets/Secp256k1Wallet.js","../../../packages/ckit/dist/wallets/UnipassWallet.js","../../../packages/ckit/dist/wallets/unipass/UnipassAdapter.js","../../../packages/ckit/dist/wallets/RcOwnerWallet.js","../../../packages/ckit/dist/providers/index.js","../../../packages/mercury-client/dist/index.js","../../../packages/ckit/dist/providers/mercury/IndexerCellProvider.js","../../../packages/ckit/dist/providers/CkitProvider.js","../../../packages/ckit/dist/predefined/index.js","../../../packages/ckit/dist/predefined/aggron.js","../../../packages/ckit/dist/predefined/lina.js","hooks/useConfigStorage.tsx","containers/CkitProviderContainer/index.tsx","wallets/ObservableNonAcpPwLockWallet.ts","wallets/ObservableAcpPwLockWallet.ts","wallets/ObservableUnipassWallet.ts","containers/WalletContainer/index.tsx","hooks/useUnipass.tsx","utils/AssetAmount.ts","utils/index.ts","hooks/useSendTransaction.tsx","components/OnLoaded/index.tsx","components/Styled/index.tsx","components/Wallet/WalletConnect.tsx","hooks/useSendIssueTx.tsx","hooks/useAssetMetaStorage.tsx","hooks/useFormValidate.tsx","components/Wallet/WalletChange.tsx","components/Wallet/WalletList.tsx","views/Account/index.tsx","components/Assets/AssetList/AssetBalance.tsx","components/Assets/AssetList/SendButton.tsx","hooks/useSendTransferTx.tsx","components/Assets/AssetList/index.tsx","components/Assets/AddAssetButton.tsx","views/Assets/index.tsx","components/Issue/AssetMetaDisplay.tsx","components/Issue/IssueOperation.tsx","components/Issue/index.tsx","views/Issue/index.tsx","views/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","../../../packages/ckit/dist/utils.js","../../../packages/utils/dist/index.js","../../../packages/ckit/dist/helpers/pw.js","../../../packages/ckit/dist/errors.js","../../../packages/base/dist/index.js","../../../packages/rc-lock/dist/index.js","../../../packages/ckit/dist/tx-builders/AbstractTransactionBuilder.js","../../../packages/ckit/dist/tx-builders/builder-utils.js","../../../packages/ckit/dist/tx-builders/pw/AbstractPwSenderBuilder.js","../../../packages/ckit/dist/wallets/AbstractSingleEntrySigner.js","../../../packages/easy-byte/dist/index.js","../../../packages/ckit/dist/helpers/index.js","../../../packages/ckit/dist/wallets/PwWallet.js","../../../packages/easy-byte/dist/utils.js","../../../packages/rc-lock/dist/generated/rc_udt_info.js","../../../packages/ckit/dist/index.js","../../../packages/ckit/dist/tx-builders/index.js","../../../packages/ckit/dist/providers/mercury/MercuryProvider.js","../../../packages/base/dist/AbstractProvider.js","../../../packages/base/dist/typeid.js","../../../packages/easy-byte/dist/struct.js","../../../packages/base/dist/AbstractWallet.js","../../../packages/utils/dist/debug.js","../../../packages/utils/dist/invariant.js","../../../packages/utils/dist/assertion.js","../../../packages/utils/dist/bytes.js","../../../packages/ckit/dist/wallets/index.js","../../../packages/ckit/dist/wallets/RcInternalSigner.js","../../../packages/rc-lock/dist/generated/rc-lock.js","../../../packages/rc-lock/dist/rc.js"],"names":["Object","defineProperty","exports","value","serialize","tx","raw","inputs","map","item","since","previousOutput","index","txHash","inputCells","lock","args","codeHash","hashType","type","data","getHexData","capacity","amount","toHexString","outPoint","outputs","version","cellDeps","depType","headerDeps","witnessArgs","witnesses","deserialize","_pwCore","Transaction","RawTransaction","toCell","CellDep","DepType","code","depGroup","OutPoint","require","toScript","x","Script","HashType","Cell","Amount","undefined","AcpTransferSudtBuilder","_errors","_AbstractTransactionBuilder","_TransferSudtPwBuilder","AbstractTransactionBuilder","constructor","options","provider","sender","obj","key","super","this","enumerable","configurable","writable","builder","TransferSudtPwBuilder","recipients","find","option","recipient","RecipientSameWithSenderError","address","build","_utils","_pw","_utils2","_builderUtils","_AbstractPwSenderBuilder","AbstractPwSenderBuilder","optionsGroupBySudt","Map","forEach","oldRecipientOptions","get","sudt","newRecipientOptions","policy","additionalCapacity","createCapacity","concat","set","senderSudtInputCells","recipientSudtInputCells","senderSudtOutputCells","recipientSudtOutputCells","recipientCreateOutputCells","optionsOfSameSudt","deduplicateOptions","sudtScript","totalTransferAmount","add","recipientLiveSudtCell","collectUdtCells","_option$additionalCap","debug","boom","recipientSudtInputCell","output","Pw","toPwScript","toPwOutPoint","out_point","output_data","recipientSudtOutputCell","setSUDTAmount","getSUDTAmount","push","_option$additionalCap2","parseToScript","toString","String","byteLenOfSudt","getLockscriptArgsLength","toUInt128LE","senderSudtInputCell","toPwCell","cellCapacity","sudtAmount","reduce","input","ZERO","senderSudtOutputCell","sub","senderSudtInputCellsCapacity","sum","cell","senderSudtOutputCellsCapacity","recipientSudtInputCellsCapacity","recipientSudtOutputCellsCapacity","recipientCreateOutputCellsCapacity","inputsContainedCapacity","outputsContainedCapacity","txWithoutSupplyCapacity","getCellDepsByCells","getWitnessPlaceholder","needSupplyCapacity","Builder","calcFee","Number","config","MIN_FEE_RATE","senderSudtCellToPayCapacity","gte","senderLockscriptArgsLen","needSearchCapacity","byteLenOfCkbLiveCell","supplyCapacityLiveCells","collectCkbLiveCells","supplyCapacityInputCells","capacityChangeCell","txWithSupplyCapacity","fee","length","existedOption","Error","Array","from","values","getCellDeps","isLina","AggronCellDeps","LinaCellDeps","nets","name","url","model","TransferCkbBuilder","_TransferCkbPwBuilder","some","capacityPolicy","TransferCkbPwBuilder","_rxjs","recipientCreatedCells","filter","acpOptions","recipientAcpCells$","pipe","mergeMap","async","resolved","NoAvailableCellError","toArray","recipientAcpCells","lastValueFrom","createdCapacity","totalCapacity","injectedAcpCapacity","senderCells","senderOutput","acc","MintSudtBuilder","_MintSudtPwBuilder","NonAcpPwMintBuilder","buildPwTransaction","_helpers","issuerAddress","senderMintedUdtType","newSudtScript","createdRecipientCells","_item$sudt","recipientLockArgsBytesLen","BN","resolvedFindAcpCells","foundRecipientCells$","_item$sudt2","foundRecipientCells","createdRecipientCellsCapacity","createdCell","foundRecipientCellsAdditionalCapacity","foundCell","neededCapacityFromIssuer","issuerCells","issuerOutput","clone","inputCell","rawTx","CkbAmount","_bignumber","_defineProperty","val","checkIsAmount","BigNumber","__isCkitAmount__","decimals","isInteger","BigInt","times","pow","bn","lt","humanize","decimalPlaces","Infinity","separator","valWithDecimals","originDecimalPlaces","rounded","Math","min","ROUND_FLOOR","toFormat","new","base","toHex","eq","gt","lte","plus","minus","asBN","_CreateRcUdtInfoCellBuilder","keys","_MintRcUdtBuilder","_rcLock","CreateRcUdtInfoCellBuilder","_CreateRcUdtInfoCellPwBuilder","builtTransaction","CreateRcUdtInfoCellPwBuilder","getTypeHash","rcUdtInfoCell","invariant","toHash","getIssuerLockHash","_base","_dist","_ckbJsToolkit","_jsbi","__esModule","default","sudtInfo","rcIdentity","udtInfo","SerializeUdtInfo","Reader","fromRawString","toArrayBuffer","symbol","description","rcUdtInfoCellSize","byteLenOfRcCell","byteLength","ownerRcLock","newScript","bytes","flag","pubkeyHash","ownerRcAddress","parseToAddress","senderOutpoints","fromCkb","typeIdScript","generateTypeIdScript","previous_output","rcLockScript","rcInfoCell","formatByteLike","OmniSupplyOutputData","encode","current_supply","max_supply","maxSupply","sudt_script_hash","utils","computeScriptHash","fromPwScript","Uint8Array","next","rawTransaction","MintRcUdtBuilder","_MintRcUdtPwBuilder","MintRcUdtPwBuilder","_easyByte","_lodash","helper","RcSupplyLockHelper","mercury","rcLock","newScriptTemplate","sudtType","resolvedInfoCells","listCreatedInfoCells","nonNullable","udtType","findOrCreatePolicies","alreadyDetermined","partition","groupByRecipient","groupBy","mergedFindOrCreatePolicies","items","left","right","then","cells","determineFindOrCreate","rc_identity_flag","rc_identity_pubkey_hash","RcSupplyLockArgs","decode","toBuffer","infoCell","capacityProviderAddress","RcIdentityLockArgs","rc_lock_flag","pad0x","byteWidth","mintedSudtAmount","dataBuf","decoded","encoded","write","setHexData","PwAdapterSigner","serializeBigInt","i","view","DataView","ArrayBuffer","setUint32","buffer","rawSigner","hasher","Blake2bHasher","messages","sigs","signerLock","getAddress","sig","signMessage","message","toMessages","signMessages","SerializeWitnessArgs","normalizers","NormalizeWitnessArgs","serializeJson","FillSignedWitnesses","validate","hash","SerializeRawTransaction","NormalizeRawTransaction","transformers","TransformRawTransaction","used","_input","update","firstWitness","j","sameWith","currentWitness","digest","reset","Secp256k1Signer","Secp256k1Wallet","_hd","_AbstractSingleEntrySigner","_classPrivateFieldGet","receiver","privateMap","descriptor","call","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","TypeError","_classApplyDescriptorSet","action","has","_privateKey","WeakMap","AbstractWallet","privateKey","lockConfig","setDescriptor","features","_privateKey2","AbstractSingleEntrySigner","privateKeyToBlake160","signature","signRecoverable","Promise","resolve","UnipassWallet","_UnipassAdapter","adapterConfig","adapter","UnipassRedirectAdapter","unipassLockArgs","getLockArgs","sign","seal","pubkeyToLockArgs","getRetFromSearchParams","redirect","isUnipassLoginData","isUnipassSigData","pubkey","ckbHash","hexToBytes","slice","check","replace","searchParams","URLSearchParams","location","search","json","res","JSON","parse","info","delete","pathname","host","protocol","window","qs","newUrl","history","replaceState","path","href","setTimeout","_options$host","_options$loginDataCac","loginDataCacheKey","saveLoginInfo","getLoginDataFromUrl","getLoginDataFromCache","hasLoginInfo","hasSigData","_ref","_this$getLoginDataFro","redirectToLogin","_this$getSignatureFro","getSignatureFromUrl","redirectToSign","generateUnipassNewUrl","success_url","_this$getLoginDataFro2","saveLoginDataToCache","localStorage","setItem","stringify","serialized","getItem","loginData","params","urlObj","URL","toLowerCase","entries","RcPwSigner","RcOwnerWallet","_PwWallet","describeFeatures","ethProvider","detect","selectedAddress","request","method","addListener","signer","emitChangedSigner","emitConnectStatusChanged","rcOwnerLockArgs","RcIdentityFlag","ETH","getRcIdentity","signedMessage","personalSign","v","parseInt","padStart","SerializeRcLockWitnessLock","_MercuryProvider","_CkitProvider","MercuryClient","_clientJs","uri","transport","HTTPTransport","headers","client","Client","RequestManager","get_cells","payload","search_key","order","limit","after_cursor","get_tip","get_transactions","MercuryCellProvider","collector","queries","searchKey","script","script_type","queryData","collect","Symbol","asyncIterator","liveCells","objects","cell_output","block_number","CkitProvider","MercuryProvider","init","getScriptConfig","scriptConfig","configKey","template","code_hash","hash_type","issuer","issuerLockHash","getCellDep","dep","predefined","Aggron","_interopRequireWildcard","Lina","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","desc","PREFIX","SCRIPTS","_configManager","SECP256K1_BLAKE160","AGGRON4","ANYONE_CAN_PAY","SUDT","PW_ANYONE_CAN_PAY","CODE_HASH","HASH_TYPE","TX_HASH","INDEX","DEP_TYPE","PW_NON_ANYONE_CAN_PAY","UNIPASS","RC_LOCK","LINA","useConfigStorage","initialConfig","useMemo","ckitConfig","mecuryRPC","ckbRPC","nervosExploreTxUrlPrefix","nervosExploreAddressUrlPrefix","nervosExploreSudtUrlPrefix","useLocalStorage","CkitProviderContainer","createContainer","ckitProvider","setCkitProvider","useState","localConfig","useEffect","ObservableNonAcpPwLockWallet","NonAcpPwLockWallet","makeObservable","connectStatus","observable","ObservableAcpPwLockWallet","AcpPwLockWallet","ObservableUnipassWallet","WalletContainer","useContainer","currentWalletName","setCurrentWalletName","wallets","useLocalObservable","signerAddress","setSignerAddress","error","setError","visible","setVisible","isInitialized","setIsInitialized","setModalVisible","useCallback","runInAction","splice","connect","autorun","wallet","on","remainConnectedWallet","w","connectedWallet","err","currentWallet","displayWalletName","useUnipass","cachedTx","cacheTx","shouldLogin","cacheLogin","shouldSendTx","clearTx","AssetAmount","rawAmount","humanizeAmount","toRawString","toHumanizeString","truncateMiddle","str","start","end","HEX_REGEX","isValidHexString","test","useSendTransaction","useMutation","serializedTx","serde","sendTransaction","onSuccess","Modal","success","title","content","target","rel","onError","errorMsg","width","OnIncomplete","children","isLoaded","setIsLoaded","mutateAsync","txToSend","catch","StyledCardWrapper","styled","div","WalletConnect","observer","size","onClick","CheckCircleTwoTone","useSendIssueTx","recipientsParams","operationKind","helpers","useAssetMetaStorage","initialAssetMeta","decimal","assetsMeta","setAssetsMeta","addAssetMeta","newValue","useFormValidate","useProvider","validateCkbAddress","e","isLockscriptACP","scripts","validateACPAddress","validateInviteAddress","validateIssueAddress","validateTransferAddress","validateAmount","assetAmount","fromHumanize","isNaN","WalletChange","truncatedAddress","style","marginTop","marginBottom","span","offset","textAlign","AddressTip","copyable","float","Typography","Text","ModalBorderWrapper","WalletList","closable","onCancel","footer","pagination","dataSource","renderItem","Item","WalletListItem","props","UsbOutlined","SyncOutlined","spin","AccountView","Title","level","paddingTop","AssetBalance","query","useQuery","getUdtBalance","getCkbLiveCellsBalance","enabled","isError","fromRaw","LoadingOutlined","SendButton","issuableSudtScript","isMint","buttonContent","disabled","isLoading","ModalForm","assetMeta","sendTransferTransaction","isTransferLoading","useSendTransferTx","sendIssueTransaction","isIssueLoading","onSubmit","loading","formik","useFormik","initialValues","errors","recipientError","amountError","resetForm","justify","align","htmlFor","id","placeholder","getFieldProps","touched","submitForm","AssetList","columns","render","record","showHeader","pageSize","AddAssetButton","buttonProps","setSubmitting","newAssetMeta","onChange","setFieldValue","onBlur","handleBlur","Group","handleChange","AssetsView","icon","PlusCircleOutlined","fontSize","AssetMetaDisplay","scriptHash","ScriptTip","Link","IssueOperation","setOperationKind","recipientFieldDisplayName","inviteRecipient","issueRecipient","IssueArea","udtScript","IssueView","isSupportIssue","checkSupported","AppView","BodyWrapper","className","App","queryClient","QueryClient","QueryClientProvider","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","unimplemented","asyncSleep","ms","randomHexString","lengthWithOut0x","floor","random","join","bytesToHex","b","hex","match","startsWith","byte","asserts","condition","_debug","createDebugger","_invariant","_assertion","_bytes","fromPwCellDep","dep_type","tx_hash","toPwCellDep","fromPwCell","getData","isLumosCell","NoEnoughUdtError","NoEnoughCkbError","CkitError","metadata","expected","actual","_ScriptManager","ScriptManager","_AbstractProvider","AbstractProvider","ProviderConfig","InitOptions","_AbstractWallet","_exportNames","UdtInfo","_rc_udt_info","_rc","deserialized","lockArgsByteLen","typeArgsByteLen","dataLen","_config","getCellDepByKey","getCellDepByScript","foundEntry","keyToTemplate","uniqWith","flatMap","dep1","dep2","outputCells","inputLockAndTypeScripts","outputTypeScripts","isTemplateOf","repeat","input_type","output_type","_PwAdapterSigner","_options$hasher","signed","TransformTransaction","_struct","_Amount","hashMessage","InternalNonAcpPwLockSigner","_detectProvider","_secp256k","ethereum","AbstractPwWallet","addresses","isArray","produceSigner","disconnect","removeEventListener","listener","enable","AbstractPwSigner","ethereumProvider","result","Platform","eth","Keccak256Hasher","getEthAddress","publicKeyCreate","startsWith0x","rm0x","safePadZero","prependZeroToEvenLength","convertEndian","toUnfixedBuffer","toFixedBuffer","byteSize","_buffer","le","isEvenLength","isUnfixed","padEvenLength","expectedByteStringLength","padEnd","reverse","byteString","Buffer","shouldPad0x","isBuffer","unfixed","unfixedSize","alloc","fn","fn1","fn2","dataLengthError","required","assertDataLength","assertArrayBuffer","reader","verifyAndExtractOffsets","expectedFieldCount","compatible","requiredByteLength","getUint32","firstOffset","itemCount","offsets","serializeTable","buffers","totalSize","array","SerializeUTF8Bytes","SerializeUint128","SerializeByte32","SerializeUdtCellData","versionView","setUint8","udt_info","UdtCellData","Byte32","Uint128","UTF8Bytes","indexAt","getUint8","getDecimals","offset_end","getName","getSymbol","getDescription","decimalsView","getVersion","getCurrentSupply","getMaxSupply","getSudtScriptHash","getUdtInfo","_predefined","_wallets","_providers","_txBuilders","SerializedTx","DeserializedTx","_AcpTransferSudtBuilder","_TransferCkbBuilder","_MintSudtBuilder","_rpc","_mercuryClient","_IndexerCellProvider","mercuryRpc","ckbRpc","RPC","rpc","minimalCapacity","output_data_len_range","cells$","expand","last_cursor","takeWhile","concatMap","scan","defaultValue","balance$","balance","getTxPoolInfo","tx_pool_info","getChainInfo","get_blockchain_info","send_transaction","udt","minimalAmount","resolvedCell","toBigUInt128LE","pollIntervalMs","timeoutMs","Date","now","_tx$tx_status","get_transaction","tx_status","status","transaction","rpcTip","get_tip_block_number","mercuryTip","asIndexerCellProvider","_typeid","newTypeIdScript","outputIndex","findCellDepByAddress","scriptConfigs","findIndex","found","findCellDepByScript","initialized","min_fee_rate","isMainnet","chain","txPoolInfo","generateAddress","parseAddress","generateTypeID","toBigUInt64LE","num","buf","writeBigUInt64LE","isSafeInteger","writeUInt32LE","ab","outPointBuf","core","SerializeCellInput","NormalizeCellInput","outputIndexBuf","ckbHasher","CKBHasher","digestHex","createField","createFixedStruct","FixedStruct","U128BEJSBI","U128LEJSBI","U64BEJSBI","U64LEJSBI","U128BE","U128LE","I128BE","I128LE","U64BE","U64LE","I64BE","I64LE","U32BE","U32LE","I32BE","I32LE","U16BE","U16LE","I16BE","I16LE","U8","I8","createReader","fnName","createWriter","read","fields","field","namedField","parsed","bigIntReader","signMask","valueMask","bigIntWriter","jsbiReader","jsbiWriter","_eventemitter","event","emitter","isDisconnected","tryConnect","emitError","removeAllListeners","feature","includes","getConnectStatus","getSigner","emit","namespace","_tinyInvariant","hexes","padToEven","hexStringLike","isNumberLike","internal","_RcOwnerWallet","_RcInternalSigner","_Secp256k1Wallet","_UnipassWallet","RcSecp256k1Signer","RcEthSigner","RCLockSigner","RC_MODE","CKB","getAddressByMode","ACP","mode","pubKeykHash","substring","rc_args","PUBKEY_HASH","reject","_privateKey3","ethAddress","SerializeIdentity","SerializeRcIdentity","SerializeRcIdentityOpt","SerializeBytesOpt","rc_identity","preimage","SerializeScriptVec","SerializeScriptVecOpt","SerializeXudtWitnessInput","raw_extension_data","SerializeBytesVec","extension_data","SerializeRCRule","SerializeRCCellVec","SerializeRCData","itemBuffer","SerializeSmtProof","SerializeSmtProofEntry","SerializeSmtProofEntryVec","SerializeSmtUpdateItem","SerializeSmtUpdateItemVec","SerializeSmtUpdateAction","updates","proof","SerializeXudtData","SerializeBytes","SerializeUint32","SerializeUint64","SerializeUint256","SerializeByte32Vec","SerializeScriptOpt","SerializeProposalShortId","SerializeUncleBlockVec","SerializeTransactionVec","SerializeProposalShortIdVec","SerializeCellDepVec","SerializeCellInputVec","SerializeCellOutputVec","SerializeScript","SerializeOutPoint","SerializeCellOutput","SerializeCellDep","SerializeTransaction","SerializeRawHeader","SerializeHeader","SerializeUncleBlock","SerializeBlock","header","uncles","transactions","proposals","SerializeCellbaseWitness","WitnessArgs","CellbaseWitness","Block","UncleBlock","Header","RawHeader","CellOutput","CellInput","CellOutputVec","CellInputVec","CellDepVec","ProposalShortIdVec","TransactionVec","UncleBlockVec","ProposalShortId","ScriptOpt","Byte32Vec","BytesVec","BytesOpt","Bytes","Uint256","Uint64","Uint32","XudtData","SmtUpdateAction","SmtUpdateItemVec","SmtUpdateItem","SmtProofEntryVec","SmtProofEntry","SmtProof","RCData","RCCellVec","RCRule","XudtWitnessInput","ScriptVecOpt","ScriptVec","RcLockWitnessLock","RcIdentityOpt","RcIdentity","Identity","getIdentity","getProofs","identity","proofs","hasValue","getSignature","getPreimage","len","getRawExtensionData","getExtensionData","getSmtRoot","getFlags","smt_root","flags","t","unionType","getMask","getProof","maskView","mask","getKey","getPackedValues","packed_values","getUpdates","getLock","toBigEndianUint32","toLittleEndianUint32","getCodeHash","getHashType","getArgs","hashTypeView","getTxHash","getIndex","getSince","getPreviousOutput","getCapacity","getType","type_","getOutPoint","getDepType","getHeaderDeps","getInputs","getOutputs","getOutputsData","cell_deps","header_deps","outputs_data","getRaw","getWitnesses","getCompactTarget","getTimestamp","getNumber","getEpoch","getParentHash","getTransactionsRoot","getProposalsHash","getUnclesHash","getDao","compact_target","timestamp","number","epoch","parent_hash","transactions_root","proposals_hash","uncles_hash","dao","getNonce","nonce","getHeader","getProposals","getUncles","getTransactions","getMessage","getInputType","getOutputType","convertToRcIdentityFlag","convertToSudtSupplyInfo","convertToSudtInfo","RcLockFlag","RcSupplyOutputData","OmniSupplyLockArgs","OmniIdentityLockArgs","_operators","readUInt8","outputData","fixedDataLen","currentSupply","type_id_hash","udtId","indexer","SUPPLY_MASK","supplyCells$","newRcSupplyLockScript","infoLock"],"mappings":"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","file":"static/js/main.f3ab7d33.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serialize = serialize;\nexports.deserialize = deserialize;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction serialize(tx) {\n  const raw = tx.raw;\n  return {\n    raw: {\n      inputs: raw.inputs.map(item => ({\n        since: item.since,\n        previousOutput: {\n          index: item.previousOutput.index,\n          txHash: item.previousOutput.txHash\n        }\n      })),\n      inputCells: raw.inputCells.map(item => ({\n        lock: {\n          args: item.lock.args,\n          codeHash: item.lock.codeHash,\n          hashType: item.lock.hashType\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        },\n        data: item.getHexData(),\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        outPoint: {\n          txHash: item.outPoint.txHash,\n          index: item.outPoint.index\n        }\n      })),\n      outputs: raw.outputs.map(item => ({\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        data: item.getHexData(),\n        lock: {\n          args: item.lock.args,\n          hashType: item.lock.hashType,\n          codeHash: item.lock.codeHash\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        }\n      })),\n      version: raw.version,\n      cellDeps: raw.cellDeps.map(item => ({\n        depType: item.depType,\n        outPoint: {\n          index: item.outPoint.index,\n          txHash: item.outPoint.txHash\n        }\n      })),\n      headerDeps: raw.headerDeps\n    },\n    witnessArgs: tx.witnessArgs,\n    witnesses: tx.witnesses\n  };\n}\n\nfunction toScript(x) {\n  return new _pwCore.Script(x.codeHash, x.args, x.hashType === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction toCell(x) {\n  return new _pwCore.Cell(new _pwCore.Amount(x.capacity.amount, 0), toScript(x.lock), x.type ? toScript(x.type) : undefined, 'outPoint' in x && x.outPoint ? new _pwCore.OutPoint(x.outPoint.txHash, x.outPoint.index) : undefined, x.data);\n}\n\nfunction deserialize(tx) {\n  const raw = tx.raw;\n  return new _pwCore.Transaction(new _pwCore.RawTransaction(raw.inputCells.map(toCell), raw.outputs.map(toCell), raw.cellDeps.map(item => new _pwCore.CellDep(item.depType === 'code' ? _pwCore.DepType.code : _pwCore.DepType.depGroup, new _pwCore.OutPoint(item.outPoint.txHash, item.outPoint.index))), raw.headerDeps, raw.version), tx.witnessArgs);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AcpTransferSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferSudtPwBuilder = require(\"./pw/TransferSudtPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AcpTransferSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n\n    _defineProperty(this, \"builder\", void 0);\n\n    this.builder = new _TransferSudtPwBuilder.TransferSudtPwBuilder(options, provider, sender);\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.find(option => option.recipient === this.sender);\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.builder.build();\n  }\n\n}\n\nexports.AcpTransferSudtBuilder = AcpTransferSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferSudtPwBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferSudtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const optionsGroupBySudt = new Map();\n    this.options.recipients.forEach(options => {\n      const oldRecipientOptions = optionsGroupBySudt.get(options.sudt.args);\n      const newRecipientOptions = oldRecipientOptions === undefined ? [{\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      }] : oldRecipientOptions.concat({\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      });\n      optionsGroupBySudt.set(options.sudt.args, newRecipientOptions);\n    });\n    const senderSudtInputCells = [];\n    const recipientSudtInputCells = [];\n    const senderSudtOutputCells = [];\n    const recipientSudtOutputCells = [];\n    const recipientCreateOutputCells = []; // 1. handle sudt cells\n\n    for (const item of optionsGroupBySudt) {\n      let [, optionsOfSameSudt] = item;\n      optionsOfSameSudt = this.deduplicateOptions(optionsOfSameSudt); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      const sudtScript = optionsOfSameSudt[0].sudt;\n      let totalTransferAmount = new _pwCore.Amount('0', 0); // build sudt cells of recipients\n\n      for (const option of optionsOfSameSudt) {\n        totalTransferAmount = totalTransferAmount.add(new _pwCore.Amount(option.amount, 0));\n\n        if (option.policy === 'findOrCreate') {\n          const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n          option.policy = recipientLiveSudtCell ? 'findAcp' : 'createCell';\n        }\n\n        switch (option.policy) {\n          case 'findAcp':\n            {\n              var _option$additionalCap;\n\n              if (option.createCapacity) (0, _utils.debug)(`WARN: “createCapacity” cannot use with “findAcp” policy`);\n              const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n              if (!recipientLiveSudtCell) (0, _utils2.boom)(`recipient ${option.recipient} has no cell to carry the udt`);\n              const recipientSudtInputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), _pw.Pw.toPwOutPoint(recipientLiveSudtCell.out_point), recipientLiveSudtCell.output_data);\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0).add(new _pwCore.Amount((_option$additionalCap = option.additionalCapacity) !== null && _option$additionalCap !== void 0 ? _option$additionalCap : '0', 0)), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), undefined, recipientLiveSudtCell.output_data);\n              recipientSudtOutputCell.setSUDTAmount(recipientSudtOutputCell.getSUDTAmount().add(new _pwCore.Amount(option.amount, 0)));\n              recipientSudtInputCells.push(recipientSudtInputCell);\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n\n          case 'createCell':\n            {\n              var _option$additionalCap2;\n\n              if (option.createCapacity) {\n                recipientCreateOutputCells.push(new _pwCore.Cell(new _pwCore.Amount(option.createCapacity, 0), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient))));\n              } // defaults additional capacity to 1 CKB\n\n\n              option.additionalCapacity = (_option$additionalCap2 = option.additionalCapacity) !== null && _option$additionalCap2 !== void 0 ? _option$additionalCap2 : (10 ** 8).toString();\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(option.additionalCapacity, 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(option.recipient))))), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient)), _pw.Pw.toPwScript(sudtScript), undefined, new _pwCore.Amount(option.amount, 0).toUInt128LE());\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n        }\n      } // build sudt cells of sender\n\n\n      const senderLiveSudtCells = await this.provider.collectUdtCells(this.sender, sudtScript, totalTransferAmount.toHexString());\n      const senderSudtInputCell = senderLiveSudtCells.map(_pw.Pw.toPwCell);\n      senderSudtInputCells.push(...senderSudtInputCell);\n      const [cellCapacity, sudtAmount] = senderSudtInputCell.reduce(([cellCapacity, sudtAmount], input) => {\n        cellCapacity = cellCapacity.add(input.capacity);\n        sudtAmount = sudtAmount.add(input.getSUDTAmount());\n        return [cellCapacity, sudtAmount];\n      }, [_pwCore.Amount.ZERO, _pwCore.Amount.ZERO]);\n      const senderSudtOutputCell = new _pwCore.Cell(cellCapacity, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].lock, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].type, undefined, sudtAmount.toUInt128LE());\n      senderSudtOutputCell.setSUDTAmount(senderSudtOutputCell.getSUDTAmount().sub(totalTransferAmount));\n      senderSudtOutputCells.push(senderSudtOutputCell);\n    } // 2. handle capacity cells\n\n\n    const senderSudtInputCellsCapacity = senderSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const senderSudtOutputCellsCapacity = senderSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtInputCellsCapacity = recipientSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtOutputCellsCapacity = recipientSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientCreateOutputCellsCapacity = recipientCreateOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputsContainedCapacity = recipientSudtInputCellsCapacity.add(senderSudtInputCellsCapacity);\n    const outputsContainedCapacity = recipientSudtOutputCellsCapacity.add(senderSudtOutputCellsCapacity).add(recipientCreateOutputCellsCapacity);\n    const txWithoutSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells), this.getCellDepsByCells(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells))), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const feeWithoutSupplyCapacity = _pwCore.Builder.calcFee(txWithoutSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    const needSupplyCapacity = feeWithoutSupplyCapacity.add(outputsContainedCapacity.sub(inputsContainedCapacity));\n    const senderSudtCellToPayCapacity = senderSudtOutputCells.find(cell => cell.capacity.sub(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(this.sender))))).gte(needSupplyCapacity));\n\n    if (senderSudtCellToPayCapacity) {\n      senderSudtCellToPayCapacity.capacity = senderSudtCellToPayCapacity.capacity.sub(needSupplyCapacity);\n      return txWithoutSupplyCapacity;\n    } // build tx with extra capacity cell supplied\n\n\n    const senderLockscriptArgsLen = this.getLockscriptArgsLength(this.sender);\n    const outputsNeededCapacity = outputsContainedCapacity // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)(senderLockscriptArgsLen)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const needSearchCapacity = outputsNeededCapacity.sub(inputsContainedCapacity);\n    const supplyCapacityLiveCells = await this.provider.collectCkbLiveCells(this.sender, needSearchCapacity.toHexString());\n    const supplyCapacityInputCells = supplyCapacityLiveCells.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const capacityChangeCell = _pw.Pw.toPwCell(supplyCapacityLiveCells[0]);\n\n    capacityChangeCell.capacity = supplyCapacityInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = senderSudtInputCells.concat(recipientSudtInputCells).concat(supplyCapacityInputCells);\n    const outputs = senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells).concat([capacityChangeCell]);\n    const txWithSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs)), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const fee = _pwCore.Builder.calcFee(txWithSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee).add(inputsContainedCapacity).sub(outputsContainedCapacity);\n    return txWithSupplyCapacity;\n  }\n\n  getLockscriptArgsLength(address) {\n    return (this.provider.parseToScript(address).args.length - 2) / 2;\n  }\n\n  deduplicateOptions(options) {\n    const deduplicateOptions = new Map();\n    options.forEach(option => {\n      const existedOption = deduplicateOptions.get(option.recipient);\n\n      if (existedOption) {\n        if (existedOption.policy !== option.policy) throw new Error('error: same recipient and sudt, but different policy');\n        existedOption.amount = new _pwCore.Amount(existedOption.amount, 0).add(new _pwCore.Amount(option.amount, 0)).toHexString();\n      } else {\n        deduplicateOptions.set(option.recipient, option);\n      }\n    });\n    return Array.from(deduplicateOptions.values());\n  }\n\n}\n\nexports.TransferSudtPwBuilder = TransferSudtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCellDeps = getCellDeps;\nexports.nets = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\n// TODO\n//  unipass is not open source at this stage,\n//  there is only some sample code, when unipass is open source, you need to replace these codes\nconst nets = [// {\n//   name: '本地',\n//   url: 'http://localhost:3000/'\n// },\n{\n  name: 'dev',\n  url: 'https://id.unipass.vip',\n  model: 1\n}, {\n  name: 'Aggron-Preview',\n  url: 'https://t.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina-Preview',\n  url: 'https://rc.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina',\n  url: 'https://unipass.xyz'\n}];\nexports.nets = nets;\nconst AggronCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x04a1ac7fe15e454741d3c5c9a409efb9a967714ad2f530870514417978a9f655', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x3d41e1c543f0fddcbb17157d15a2845d7c5fb0363561cd8f50ecd0e118b34f84', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c', '0x0'))];\nconst LinaCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1a04142a2a745fb3b7e0e9b61241676c1c94ad8cdacb36f223661130a23fb007', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf247a0e9dfe9d559ad8486428987071b65d441568075465c2810409e889f4081', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1196caaf9e45f1959ea3583f92914ee8306d42e27152f7068f9eeb52ac23eeae', '0x0'))];\n\nfunction getCellDeps(isLina = false) {\n  let data = AggronCellDeps;\n  if (isLina) data = LinaCellDeps;\n  return data;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferCkbPwBuilder = require(\"./pw/TransferCkbPwBuilder\");\n\n// just for testing case, do not use it\nclass TransferCkbBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy === 'findAcp');\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    const builder = new _TransferCkbPwBuilder.TransferCkbPwBuilder(this.options, this.provider, this.sender);\n    return builder.build();\n  }\n\n}\n\nexports.TransferCkbBuilder = TransferCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferCkbPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const recipientCreatedCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(item.amount, 0), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient))));\n    const acpOptions = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const recipientAcpCells$ = (0, _rxjs.from)(acpOptions).pipe((0, _rxjs.mergeMap)(async item => {\n      const resolveds = await this.provider.collectCkbLiveCells(item.recipient, '0');\n      const resolved = resolveds[0];\n      if (!resolved) throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(item.recipient)\n      }); // increase capacity\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.amount, 0));\n      return cell;\n    }), (0, _rxjs.toArray)());\n    const recipientAcpCells = await (0, _rxjs.lastValueFrom)(recipientAcpCells$);\n    const createdCapacity = recipientCreatedCells.reduce((totalCapacity, cell) => totalCapacity.add(cell.capacity), _pwCore.Amount.ZERO);\n    const injectedAcpCapacity = acpOptions.reduce((totalCapacity, item) => totalCapacity.add(new _pwCore.Amount(item.amount, 0)), _pwCore.Amount.ZERO);\n    const senderOutpoints = await this.provider.collectCkbLiveCells(this.sender, injectedAcpCapacity.add(createdCapacity) // 61 ckb to ensure change cell capacity is enough\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).toHexString());\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n\n    if (!senderCells.length || !senderCells[0]) {\n      throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(this.sender)\n      });\n    } // accumulate all sender capacity into one cell\n\n\n    const senderOutput = senderCells[0];\n    senderOutput.capacity = senderCells.reduce((acc, cell) => acc.add(cell.capacity), new _pwCore.Amount('0', 0));\n    const inputCells = [...senderCells, ...recipientAcpCells];\n    const outputs = [senderOutput, ...recipientAcpCells, ...recipientCreatedCells];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs)), [this.getWitnessPlaceholder(this.sender)]);\n    const fee = TransferCkbPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(createdCapacity).sub(injectedAcpCapacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.TransferCkbPwBuilder = TransferCkbPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _MintSudtPwBuilder = require(\"./pw/MintSudtPwBuilder\");\n\nclass MintSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async buildPwTransaction() {\n    const builder = new _MintSudtPwBuilder.NonAcpPwMintBuilder(this.options, this.provider, this.sender);\n    return await builder.build();\n  }\n\n  async build() {\n    const mintToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy !== 'createCell');\n    if (mintToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.buildPwTransaction();\n  }\n\n}\n\nexports.MintSudtBuilder = MintSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonAcpPwMintBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass NonAcpPwMintBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, issuerAddress) {\n    super(provider);\n    this.options = options;\n    this.issuerAddress = issuerAddress;\n  }\n\n  async build() {\n    const senderMintedUdtType = this.provider.newSudtScript(this.issuerAddress); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => {\n      var _item$sudt;\n\n      const recipientLockArgsBytesLen = (this.provider.parseToScript(item.recipient).args.length - 2) / 2;\n      return new _pwCore.Cell(new _pwCore.Amount(String((0, _helpers.BN)(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(recipientLockArgsBytesLen)))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n      _pw.Pw.toPwScript((_item$sudt = item.sudt) !== null && _item$sudt !== void 0 ? _item$sudt : senderMintedUdtType), // issued sudt type\n      undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE());\n    }); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      var _item$sudt2;\n\n      const resolved = (await this.provider.collectUdtCells(item.recipient, (_item$sudt2 = item.sudt) !== null && _item$sudt2 !== void 0 ? _item$sudt2 : senderMintedUdtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: senderMintedUdtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$);\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n    const neededCapacityFromIssuer = createdRecipientCellsCapacity.add(foundRecipientCellsAdditionalCapacity) // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(this.issuerAddress, neededCapacityFromIssuer.toHexString());\n    const issuerCells = issuerOutpoints.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const issuerOutput = issuerCells[0].clone();\n    issuerOutput.capacity = issuerCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = [...issuerCells, ...foundRecipientCells];\n    const outputs = [issuerOutput, ...createdRecipientCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(this.issuerAddress)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    issuerOutput.capacity = issuerOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.NonAcpPwMintBuilder = NonAcpPwMintBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BN = BN;\nexports.CkbAmount = exports.Amount = void 0;\n\nvar _bignumber = require(\"bignumber.js\");\n\nvar _utils = require(\"../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction BN(val) {\n  if (typeof val === 'bigint') return new _bignumber.BigNumber(String(val));\n  if (Amount.checkIsAmount(val)) return new _bignumber.BigNumber(String(val));\n  return new _bignumber.BigNumber(val);\n}\n\nclass Amount {\n  static checkIsAmount(x) {\n    if (typeof x !== 'object') return false;\n    if (x == null) return false;\n    return '__isCkitAmount__' in x && x.__isCkitAmount__;\n  }\n  /**\n   *\n   * @param value\n   * @param decimals\n   * @example\n   * ```ts\n   * Amount.from(1).eq(1) // true\n   * Amount.from(1, 8).eq(1_00000000) // true\n   * ```\n   */\n\n\n  static from(value, decimals = 0) {\n    if (decimals < 0 || !Number.isInteger(decimals)) (0, _utils.boom)('The decimal not valid');\n    if (typeof value === 'bigint') return new Amount(BN(value * BigInt(10) ** BigInt(decimals)));\n    if (!decimals) return new Amount(BN(value));\n    return new Amount(BN(value).times(BN(10).pow(decimals)));\n  }\n  /**\n   * value without decimals\n   * @private\n   */\n\n\n  constructor(bn) {\n    _defineProperty(this, \"__isCkitAmount__\", true);\n\n    _defineProperty(this, \"raw\", void 0);\n\n    if (!bn.isInteger()) throw new Error('Amount must be an integer');\n    if (bn.lt(0)) throw new Error('Amount must cannot be a negative number');\n    this.raw = new _bignumber.BigNumber(bn);\n  }\n\n  humanize(options) {\n    const {\n      decimalPlaces = Infinity,\n      separator = true,\n      decimals = 0\n    } = options ? options : {};\n    const valWithDecimals = this.raw.times(BN(10).pow(-decimals));\n    const originDecimalPlaces = valWithDecimals.decimalPlaces();\n    const rounded = valWithDecimals.decimalPlaces(Math.min(originDecimalPlaces, decimalPlaces), _bignumber.BigNumber.ROUND_FLOOR);\n    if (separator) return rounded.toFormat();\n    return rounded.toString();\n  }\n\n  new(val) {\n    return new Amount(val);\n  }\n\n  toString(base) {\n    return this.raw.toString(base);\n  }\n\n  toHex() {\n    return '0x' + this.toString(16);\n  }\n\n  eq(val) {\n    return this.raw.eq(BN(val));\n  }\n\n  gt(val) {\n    return this.raw.gt(BN(val));\n  }\n\n  gte(val) {\n    return this.raw.gte(BN(val));\n  }\n\n  lt(val) {\n    return this.raw.lt(BN(val));\n  }\n\n  lte(val) {\n    return this.raw.lte(BN(val));\n  }\n\n  plus(val) {\n    return this.new(this.raw.plus(BN(val)));\n  }\n\n  minus(val) {\n    return this.new(this.raw.minus(BN(val)));\n  }\n\n  asBN() {\n    return new _bignumber.BigNumber(this.raw);\n  }\n\n}\n\nexports.Amount = Amount;\n\nclass CkbAmount extends Amount {\n  /**\n   * @deprecated\n   */\n  static from() {\n    throw new Error('Use the Amount.from to instead of');\n  }\n\n  static fromCkb(value) {\n    return new CkbAmount(BN(value).times(10 ** 8));\n  }\n\n  static fromShannon(value) {\n    return new CkbAmount(BN(value));\n  }\n\n  new(val) {\n    return new CkbAmount(val);\n  }\n\n  humanize(options) {\n    return super.humanize({ ...options,\n      decimals: 8\n    });\n  }\n\n}\n\nexports.CkbAmount = CkbAmount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CreateRcUdtInfoCellBuilder = require(\"./CreateRcUdtInfoCellBuilder\");\n\nObject.keys(_CreateRcUdtInfoCellBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CreateRcUdtInfoCellBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CreateRcUdtInfoCellBuilder[key];\n    }\n  });\n});\n\nvar _MintRcUdtBuilder = require(\"./MintRcUdtBuilder\");\n\nObject.keys(_MintRcUdtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MintRcUdtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintRcUdtBuilder[key];\n    }\n  });\n});\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nObject.keys(_rcLock).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _rcLock[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rcLock[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _CreateRcUdtInfoCellPwBuilder = require(\"./CreateRcUdtInfoCellPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ```yaml\n * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u8\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\nclass CreateRcUdtInfoCellBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n\n    _defineProperty(this, \"builtTransaction\", undefined);\n  }\n\n  async build() {\n    this.builtTransaction = await new _CreateRcUdtInfoCellPwBuilder.CreateRcUdtInfoCellPwBuilder(this.options, this.provider).build();\n    return this.builtTransaction;\n  }\n  /**\n   * the type hash is used as udt id\n   */\n\n\n  getTypeHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.type.toHash();\n  }\n\n  getIssuerLockHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.lock.toHash();\n  }\n\n}\n\nexports.CreateRcUdtInfoCellBuilder = CreateRcUdtInfoCellBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellPwBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _dist = require(\"@ckitjs/easy-byte/dist\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CreateRcUdtInfoCellPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async build() {\n    const {\n      sudtInfo,\n      rcIdentity\n    } = this.options;\n    const provider = this.provider;\n    const udtInfo = (0, _rcLock.SerializeUdtInfo)({\n      name: _ckbJsToolkit.Reader.fromRawString(sudtInfo.name).toArrayBuffer(),\n      symbol: _ckbJsToolkit.Reader.fromRawString(sudtInfo.symbol).toArrayBuffer(),\n      decimals: sudtInfo.decimals,\n      description: _ckbJsToolkit.Reader.fromRawString(sudtInfo.description).toArrayBuffer()\n    });\n    const rcUdtInfoCellSize = (0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    + 32\n    /*typeid script hash*/\n    , 32, 1\n    /*version*/\n    + 16\n    /*current supply*/\n    + 16\n    /*max supply*/\n    + 32\n    /* sudt script hash*/\n    + udtInfo.byteLength\n    /*udt info molecule table*/\n    );\n    const ownerRcLock = provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, 0));\n    const ownerRcAddress = provider.parseToAddress(ownerRcLock);\n    const senderOutpoints = await provider.collectCkbLiveCells(ownerRcAddress, _helpers.CkbAmount.fromCkb((0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    , 0, 0) + // owner live cell\n    rcUdtInfoCellSize + // udt cell\n    1 // tx fee\n    ).toHex());\n    (0, _utils.invariant)(senderOutpoints[0]);\n\n    const typeIdScript = _pw.Pw.toPwScript(provider.generateTypeIdScript({\n      previous_output: senderOutpoints[0].out_point,\n      since: '0x0'\n    }, '0x0'));\n\n    const rcLockScript = _pw.Pw.toPwScript(provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, '08'\n    /*supply flag: 0b100*/\n    , typeIdScript.toHash())));\n\n    const rcInfoCell = new _pwCore.Cell(new _pwCore.Amount(String(rcUdtInfoCellSize), 8), rcLockScript, typeIdScript, undefined, _utils.bytes.concat((0, _dist.formatByteLike)(_rcLock.OmniSupplyOutputData.encode({\n      version: 0,\n      current_supply: _jsbi.default.BigInt(0),\n      max_supply: _jsbi.default.BigInt(sudtInfo.maxSupply),\n      sudt_script_hash: _base.utils.computeScriptHash(provider.newSudtScript(_pw.Pw.fromPwScript(rcLockScript)))\n    })), (0, _dist.formatByteLike)(new Uint8Array(udtInfo))));\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n    const senderOutput = senderCells[0];\n    (0, _utils.invariant)(senderOutput);\n    senderOutput.capacity = senderCells.reduce((acc, next) => acc.add(next.capacity), new _pwCore.Amount('0'));\n    const rawTransaction = new _pwCore.RawTransaction(senderCells, [rcInfoCell, senderOutput], this.getCellDepsByCells(senderCells, [rcInfoCell, senderOutput]));\n    const tx = new _pwCore.Transaction(rawTransaction, [this.getWitnessPlaceholder(provider.parseToAddress(provider.newScript('RC_LOCK')))]);\n    const fee = CreateRcUdtInfoCellPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(new _pwCore.Amount(String(rcUdtInfoCellSize), 8)).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.CreateRcUdtInfoCellPwBuilder = CreateRcUdtInfoCellPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtBuilder = void 0;\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _MintRcUdtPwBuilder = require(\"./MintRcUdtPwBuilder\");\n\n/**\n * Mint sUDT with RC-Supply-Lock, the capacity provider which is a rc-lock with {@link https://github.com/XuJiandong/docs-bank/blob/master/rc_lock.md#identity RcIdentity},\n */\nclass MintRcUdtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n  }\n\n  build() {\n    return new _MintRcUdtPwBuilder.MintRcUdtPwBuilder(this.options, this.provider).build();\n  }\n\n}\n\nexports.MintRcUdtBuilder = MintRcUdtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtPwBuilder = void 0;\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass MintRcUdtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async determineFindOrCreate() {\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // recipients -> [findOrCreate, findAcp + createCell]\n\n    const [findOrCreatePolicies, alreadyDetermined] = (0, _lodash.partition)(this.options.recipients, item => item.capacityPolicy === 'findOrCreate'); // findOrCreate -> {'addr1': [option1, option2], 'addr2': [option3]}\n\n    const groupByRecipient = (0, _lodash.groupBy)(findOrCreatePolicies, item => item.recipient); // {'addr1': [option1, option2], 'addr2': [option1]} -> [ merge(option1, option2), merge(option3) ]\n\n    const mergedFindOrCreatePolicies = (0, _lodash.map)(groupByRecipient, items => items.reduce((left, right) => ({ ...left,\n      amount: new _pwCore.Amount(left.amount, 0).add(new _pwCore.Amount(right.amount, 0)).toHexString(),\n      additionalCapacity: new _pwCore.Amount(left.additionalCapacity || '0', 0).add(new _pwCore.Amount(right.additionalCapacity || '0', 0)).toHexString()\n    })));\n    const recipients = (0, _rxjs.from)(mergedFindOrCreatePolicies).pipe((0, _rxjs.mergeMap)(item => this.provider.collectUdtCells(item.recipient, udtType, '0').then(cells => ({ ...item,\n      capacityPolicy: cells.length > 0 ? 'findAcp' : 'createCell'\n    })), 5), (0, _rxjs.toArray)());\n    const determinedFindOrUpdatePolicies = await (0, _rxjs.lastValueFrom)(recipients);\n    return determinedFindOrUpdatePolicies.concat(alreadyDetermined);\n  }\n\n  async build() {\n    this.options = { ...this.options,\n      recipients: await this.determineFindOrCreate()\n    };\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n\n    const {\n      rc_identity_flag,\n      rc_identity_pubkey_hash\n    } = _rcLock.RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(rcUdtInfoCell.output.lock.args));\n\n    const infoCell = _pw.Pw.toPwCell(rcUdtInfoCell);\n\n    const capacityProviderAddress = this.provider.parseToAddress(this.provider.newScript('RC_LOCK', (0, _easyByte.formatByteLike)(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag,\n      rc_identity_pubkey_hash,\n      rc_lock_flag: 0\n      /* owner mode */\n\n    }), {\n      pad0x: true\n    })));\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(String(item.additionalCapacity || 0), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)()))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n    _pw.Pw.toPwScript(udtType), // issued sudt type\n    undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE())); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      const resolved = (await this.provider.collectUdtCells(item.recipient, udtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: udtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$); // occupied + additional\n\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n\n    const neededCapacityFromIssuer = _pwCore.Amount.ZERO // createCell pocily needed capcacity\n    .add(createdRecipientCellsCapacity) // findAcp policy needed additional capacity\n    .add(foundRecipientCellsAdditionalCapacity) // additional rc-lock script occupied ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)(_rcLock.RcIdentityLockArgs.byteWidth)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(capacityProviderAddress, neededCapacityFromIssuer.toHexString());\n    const senderCells = issuerOutpoints.map(_pw.Pw.toPwCell); // sender change cell\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const senderOutput = senderCells[0].clone();\n    senderOutput.capacity = senderCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO); // modify current_supply\n\n    const mintedSudtAmount = this.options.recipients.reduce((acc, recipient) => _jsbi.default.add(acc, _jsbi.default.BigInt(recipient.amount)), _jsbi.default.BigInt(0));\n    const dataBuf = (0, _easyByte.toBuffer)(infoCell.getHexData());\n\n    const decoded = _rcLock.OmniSupplyOutputData.decode(dataBuf);\n\n    const encoded = _rcLock.OmniSupplyOutputData.encode({ ...decoded,\n      current_supply: _jsbi.default.add(decoded.current_supply, mintedSudtAmount)\n    });\n\n    dataBuf.write(encoded.toString('hex'), 'hex');\n    infoCell.setHexData(_utils.bytes.toHex(dataBuf));\n    const inputCells = [infoCell, ...senderCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells], this.getCellDepsByCells(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells]));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(capacityProviderAddress), // info lock\n    this.getWitnessPlaceholder(capacityProviderAddress) // capacity provider lock\n    ]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    senderOutput.capacity = senderOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.MintRcUdtPwBuilder = MintRcUdtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PwAdapterSigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nclass PwAdapterSigner {\n  constructor(rawSigner, provider, hasher = new _pwCore.Blake2bHasher()) {\n    this.rawSigner = rawSigner;\n    this.provider = provider;\n    this.hasher = hasher;\n  }\n\n  async signMessages(messages) {\n    const sigs = [];\n\n    const signerLock = _pw.Pw.toPwScript(this.provider.parseToScript(await this.rawSigner.getAddress()));\n\n    for (const item of messages) {\n      if (item.lock.codeHash !== signerLock.codeHash || item.lock.hashType !== signerLock.hashType) continue;\n      const sig = await this.rawSigner.signMessage(item.message);\n      sigs.push(sig);\n    }\n\n    return sigs;\n  }\n\n  async sign(tx) {\n    const messages = this.toMessages(tx);\n    const witnesses = await this.signMessages(messages);\n\n    for (let i = 0; i < messages.length; i++) {\n      const {\n        index\n      } = messages[i];\n\n      if (index < tx.witnessArgs.length && typeof tx.witnessArgs[index] !== 'string') {\n        witnesses[i] = new _pwCore.Reader((0, _pwCore.SerializeWitnessArgs)(_pwCore.normalizers.NormalizeWitnessArgs({ ...tx.witnessArgs[index],\n          lock: witnesses[i]\n        }))).serializeJson();\n      }\n    }\n\n    tx = FillSignedWitnesses(tx, messages, witnesses);\n    return tx;\n  }\n\n  toMessages(tx) {\n    tx.validate();\n\n    if (tx.raw.inputs.length !== tx.raw.inputCells.length) {\n      throw new Error('Input number does not match!');\n    }\n\n    const txHash = new _pwCore.Blake2bHasher().hash(new _pwCore.Reader((0, _pwCore.SerializeRawTransaction)(_pwCore.normalizers.NormalizeRawTransaction(_pwCore.transformers.TransformRawTransaction(tx.raw)))));\n    const messages = [];\n    const used = tx.raw.inputs.map(_input => false);\n\n    for (let i = 0; i < tx.raw.inputs.length; i++) {\n      if (used[i] || tx.witnesses[i] === '0x') {\n        continue;\n      }\n\n      if (i >= tx.witnesses.length) {\n        throw new Error(`Input ${i} starts a new script group, but witness is missing!`);\n      }\n\n      used[i] = true;\n      this.hasher.update(txHash);\n      const firstWitness = new _pwCore.Reader(tx.witnesses[i]);\n      this.hasher.update(serializeBigInt(firstWitness.length()));\n      this.hasher.update(firstWitness);\n\n      for (let j = i + 1; j < tx.raw.inputs.length && j < tx.witnesses.length; j++) {\n        if (tx.raw.inputCells[i].lock.sameWith(tx.raw.inputCells[j].lock)) {\n          used[j] = true;\n          const currentWitness = new _pwCore.Reader(tx.witnesses[j]);\n          this.hasher.update(serializeBigInt(currentWitness.length()));\n          this.hasher.update(currentWitness);\n        }\n      }\n\n      messages.push({\n        index: i,\n        message: this.hasher.digest().serializeJson(),\n        // hex string\n        lock: tx.raw.inputCells[i].lock\n      });\n      this.hasher.reset();\n    }\n\n    return messages;\n  }\n\n}\n\nexports.PwAdapterSigner = PwAdapterSigner;\n\nfunction FillSignedWitnesses(tx, messages, witnesses) {\n  if (messages.length !== witnesses.length) {\n    throw new Error('Invalid number of witnesses!');\n  }\n\n  for (let i = 0; i < messages.length; i++) {\n    tx.witnesses[messages[i].index] = witnesses[i];\n  }\n\n  return tx;\n}\n\nfunction serializeBigInt(i) {\n  const view = new DataView(new ArrayBuffer(8));\n  view.setUint32(0, i, true);\n  return view.buffer;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Secp256k1Signer = exports.Secp256k1Wallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Wallet extends _base.AbstractWallet {\n  constructor(privateKey, provider, lockConfig) {\n    super();\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    this.setDescriptor({\n      features: ['issue-sudt']\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  async tryConnect() {\n    return new Secp256k1Signer(_classPrivateFieldGet(this, _privateKey), this.provider, this.lockConfig);\n  }\n\n}\n\nexports.Secp256k1Wallet = Secp256k1Wallet;\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  static privateKeyToBlake160(privateKey) {\n    return _hd.key.privateKeyToBlake160(privateKey);\n  }\n\n  constructor(privateKey, provider, lockConfig) {\n    super({\n      provider: provider\n    });\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getAddress() {\n    return this.provider.parseToAddress({ ...this.lockConfig,\n      args: Secp256k1Signer.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    });\n  }\n\n  signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(signature);\n  }\n\n}\n\nexports.Secp256k1Signer = Secp256k1Signer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnipassWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _UnipassAdapter = require(\"./unipass/UnipassAdapter\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass UnipassWallet extends _base.AbstractWallet {\n  constructor(provider, adapterConfig) {\n    super();\n    this.provider = provider;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    this.setDescriptor({\n      name: 'UnipassWallet',\n      description: 'Interacting with CKB via an Email',\n      features: ['acp']\n    });\n    this.adapter = new _UnipassAdapter.UnipassRedirectAdapter(adapterConfig !== null && adapterConfig !== void 0 ? adapterConfig : {});\n  }\n\n  async tryConnect() {\n    const unipassLockArgs = await this.adapter.getLockArgs();\n    const provider = this.provider;\n\n    const getAddress = () => {\n      return Promise.resolve(provider.parseToAddress(provider.newScript('UNIPASS', unipassLockArgs)));\n    };\n\n    const signMessage = message => {\n      return Promise.resolve(this.adapter.sign(message));\n    };\n\n    return new class extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n      getAddress() {\n        return getAddress();\n      }\n\n      signMessage(message) {\n        return signMessage(message);\n      }\n\n      seal(tx) {\n        return super.seal(tx);\n      }\n\n    }({\n      provider: this.provider\n    });\n  }\n\n}\n\nexports.UnipassWallet = UnipassWallet;\n\n_defineProperty(UnipassWallet, \"UnipassRedirectAdapter\", _UnipassAdapter.UnipassRedirectAdapter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pubkeyToLockArgs = pubkeyToLockArgs;\nexports.getRetFromSearchParams = getRetFromSearchParams;\nexports.redirect = redirect;\nexports.UnipassRedirectAdapter = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _utils = require(\"../../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction isUnipassLoginData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'email' in x && 'pubkey' in x;\n}\n\nfunction isUnipassSigData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'sig' in x && 'pubkey' in x;\n}\n\nfunction pubkeyToLockArgs(pubkey) {\n  return _base.utils.ckbHash((0, _utils.hexToBytes)(pubkey).buffer).serializeJson().slice(0, 42);\n}\n\nfunction getRetFromSearchParams(check, replace = false) {\n  const searchParams = new URLSearchParams(location.search.slice(1));\n  const json = searchParams.get('unipass_ret');\n  if (!json) return undefined;\n  const res = JSON.parse(json);\n  if (!check(res.data)) return undefined;\n  if (res.code !== 200) throw new Error(res.info || 'Unknown error when connecting to UniPass');\n  searchParams.delete('unipass_ret');\n  const {\n    pathname,\n    host,\n    protocol\n  } = window.location;\n  const qs = searchParams.toString();\n  const newUrl = `${protocol}//${host}${pathname}${qs ? `?${qs}` : ''}`;\n  if (replace) window.history.replaceState({\n    path: newUrl\n  }, '', newUrl);\n  return res.data;\n}\n\nasync function redirect(href) {\n  window.location.href = href; // wait 60s to avoid error before redirect\n\n  return new Promise(resolve => setTimeout(resolve, 60 * 1000));\n}\n\nclass UnipassRedirectAdapter {\n  constructor(options) {\n    var _options$host, _options$loginDataCac;\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = {\n      host: (_options$host = options.host) !== null && _options$host !== void 0 ? _options$host : 'https://t.unipass.xyz',\n      loginDataCacheKey: (_options$loginDataCac = options.loginDataCacheKey) !== null && _options$loginDataCac !== void 0 ? _options$loginDataCac : '__unipass__'\n    };\n  }\n  /**\n   * check is logged, if `unipass_ret` is found, it will clear the `unipass_ret` and save the unipass login data to cache\n   */\n\n\n  saveLoginInfo() {\n    this.getLoginDataFromUrl() && this.getLoginDataFromCache();\n  }\n\n  hasLoginInfo() {\n    return !!getRetFromSearchParams(isUnipassLoginData);\n  }\n\n  hasSigData() {\n    return !!getRetFromSearchParams(isUnipassSigData);\n  }\n  /**\n   * get unipass lock_args. If it is not retrieved from the cache or url, it will redirect to the unipass page\n   */\n\n\n  async getLockArgs() {\n    var _ref, _this$getLoginDataFro;\n\n    const loginData = (_ref = (_this$getLoginDataFro = this.getLoginDataFromCache()) !== null && _this$getLoginDataFro !== void 0 ? _this$getLoginDataFro : this.getLoginDataFromUrl()) !== null && _ref !== void 0 ? _ref : await this.redirectToLogin();\n    return pubkeyToLockArgs(loginData.pubkey);\n  }\n\n  sign(message) {\n    var _this$getSignatureFro;\n\n    return Promise.resolve((_this$getSignatureFro = this.getSignatureFromUrl()) !== null && _this$getSignatureFro !== void 0 ? _this$getSignatureFro : this.redirectToSign(message));\n  }\n\n  redirectToLogin() {\n    const loginUrl = this.generateUnipassNewUrl(this.config.host, 'login', {\n      success_url: window.location.href\n    });\n    return redirect(loginUrl);\n  }\n\n  redirectToSign(message) {\n    var _this$getLoginDataFro2;\n\n    const pubkey = (_this$getLoginDataFro2 = this.getLoginDataFromCache()) === null || _this$getLoginDataFro2 === void 0 ? void 0 : _this$getLoginDataFro2.pubkey;\n    if (!pubkey) throw new Error('UniPass should login before sign');\n    const signUrl = this.generateUnipassNewUrl(this.config.host, 'sign', {\n      success_url: window.location.href,\n      pubkey,\n      message\n    });\n    return redirect(signUrl);\n  }\n\n  saveLoginDataToCache(data) {\n    localStorage.setItem(this.config.loginDataCacheKey, JSON.stringify(data));\n  }\n\n  getLoginDataFromCache() {\n    const serialized = localStorage.getItem(this.config.loginDataCacheKey);\n    if (serialized == null) return;\n    return JSON.parse(serialized);\n  }\n\n  getLoginDataFromUrl() {\n    const loginData = getRetFromSearchParams(isUnipassLoginData, true);\n    if (!loginData) return;\n    this.saveLoginDataToCache(loginData);\n    return loginData;\n  }\n\n  getSignatureFromUrl() {\n    const signature = getRetFromSearchParams(isUnipassSigData, true);\n    if (!signature) return; // FIXME comment meaning for the 0x01\n\n    return '0x01' + signature.sig.replace('0x', '');\n  }\n\n  generateUnipassNewUrl(host, action, params) {\n    const urlObj = new URL(`${host}/${action.toLowerCase()}`);\n    Object.entries(params).forEach(([key, val]) => urlObj.searchParams.set(key, val));\n    return urlObj.href;\n  }\n\n}\n\nexports.UnipassRedirectAdapter = UnipassRedirectAdapter;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcPwSigner = exports.RcOwnerWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\n/**\n * The RC wallet now only supported Eth identity via MetaMask\n */\nclass RcOwnerWallet extends _base.AbstractWallet {\n  constructor(provider) {\n    super();\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet'\n    });\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n  async tryConnect() {\n    const ethProvider = await (0, _PwWallet.detect)(); // request to connect to MetaMask if never been connected\n\n    if (!ethProvider.selectedAddress) {\n      await ethProvider.request({\n        method: 'eth_requestAccounts'\n      });\n    }\n\n    ethProvider.addListener('accountsChanged', signer => {\n      if (signer && signer.length > 0) {\n        super.emitChangedSigner(new RcPwSigner(this.provider, ethProvider));\n        return;\n      }\n\n      super.emitConnectStatusChanged('disconnected');\n    });\n    return new RcPwSigner(this.provider, ethProvider);\n  }\n\n}\n\nexports.RcOwnerWallet = RcOwnerWallet;\n\nclass RcPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(provider, ethProvider) {\n    super({\n      provider\n    });\n    this.provider = provider;\n    this.ethProvider = ethProvider;\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _rcLock.RcIdentityFlag.ETH,\n      pubkeyHash: this.ethProvider.selectedAddress\n    };\n  }\n\n  async personalSign(message) {\n    const from = this.ethProvider.selectedAddress;\n    return this.ethProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n  }\n\n  async signMessage(message) {\n    const signedMessage = await this.personalSign(message);\n    let v = Number.parseInt(signedMessage.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const signature = '0x' + signedMessage.slice(2, -2) + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcPwSigner = RcPwSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nObject.keys(_MercuryProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MercuryProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MercuryProvider[key];\n    }\n  });\n});\n\nvar _CkitProvider = require(\"./CkitProvider\");\n\nObject.keys(_CkitProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CkitProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CkitProvider[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryClient = void 0;\n\nvar _clientJs = require(\"@open-rpc/client-js\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryClient {\n  constructor(uri) {\n    _defineProperty(this, \"client\", void 0);\n\n    const transport = new _clientJs.HTTPTransport(uri, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    this.client = new _clientJs.Client(new _clientJs.RequestManager([transport]));\n  }\n\n  get_cells(payload) {\n    const {\n      search_key,\n      order = 'asc',\n      limit = '0x3e8'\n      /*1_000*/\n      ,\n      after_cursor\n    } = payload;\n    return this.client.request({\n      method: 'get_cells',\n      params: [search_key, order, limit, after_cursor]\n    });\n  }\n\n  get_tip() {\n    return this.client.request({\n      method: 'get_tip'\n    });\n  }\n\n  get_transactions() {\n    return this.client.request({\n      method: 'get_transactions',\n      params: []\n    });\n  }\n\n}\n\nexports.MercuryClient = MercuryClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryCellProvider = void 0;\n\nclass MercuryCellProvider {\n  constructor(mercury) {\n    this.mercury = mercury;\n  }\n\n  collector(queries) {\n    const {\n      lock,\n      type\n    } = queries;\n    let searchKey;\n\n    if (lock !== undefined) {\n      searchKey = {\n        script: lock,\n        script_type: 'lock'\n      };\n\n      if (type != undefined && type !== 'empty') {\n        searchKey.filter = {\n          script: type\n        };\n      }\n    } else {\n      if (type != undefined && type != 'empty') {\n        searchKey = {\n          script: type,\n          script_type: 'type'\n        };\n      } else {\n        throw new Error(`should specify either type or lock in queries, queries now: ${JSON.stringify(queries)}`);\n      }\n    }\n\n    const queryData = queries.data || '0x';\n    const mercury = this.mercury;\n    return {\n      collect() {\n        return {\n          async *[Symbol.asyncIterator]() {\n            const sizeLimit = 100;\n\n            for (;;) {\n              const res = await mercury.get_cells({\n                search_key: searchKey\n              });\n              const liveCells = res.objects;\n\n              for (const cell of liveCells) {\n                if (queryData === 'any' || queryData === cell.output_data) {\n                  yield {\n                    cell_output: cell.output,\n                    data: cell.output_data,\n                    out_point: cell.out_point,\n                    block_number: cell.block_number\n                  };\n                }\n              }\n\n              if (liveCells.length < sizeLimit) {\n                break;\n              }\n            }\n          }\n\n        };\n      }\n\n    };\n  }\n\n}\n\nexports.MercuryCellProvider = MercuryCellProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkitProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nclass CkitProvider extends _MercuryProvider.MercuryProvider {\n  get config() {\n    return super.config;\n  }\n\n  init(config) {\n    return super.init(config);\n  }\n\n  getScriptConfig(key) {\n    const scriptConfig = super.getScriptConfig(key);\n    if (!scriptConfig) throw new Error(`cannot find the ${key} script config, maybe init failed`);\n    return scriptConfig;\n  }\n\n  newScript(configKey, args = '0x') {\n    const script = super.newScript(configKey, args);\n    if (!script) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return script;\n  }\n\n  newScriptTemplate(configKey) {\n    const template = this.newScript(configKey);\n    return {\n      code_hash: template.code_hash,\n      hash_type: template.hash_type\n    };\n  }\n\n  newSudtScript(issuer) {\n    const issuerLockHash = typeof issuer === 'string' ? _base.utils.computeScriptHash(this.parseToScript(issuer)) : _base.utils.computeScriptHash(issuer);\n    return this.newScript('SUDT', issuerLockHash);\n  }\n\n  getCellDep(configKey) {\n    const dep = super.getCellDep(configKey);\n    if (!dep) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return dep;\n  }\n\n}\n\nexports.CkitProvider = CkitProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.predefined = void 0;\n\nvar Aggron = _interopRequireWildcard(require(\"./aggron\"));\n\nvar Lina = _interopRequireWildcard(require(\"./lina\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst AggronCkitConfig = {\n  PREFIX: 'ckt',\n  SCRIPTS: Aggron.SCRIPTS\n};\nconst LinaCkitConfig = {\n  PREFIX: 'ckb',\n  SCRIPTS: Lina.SCRIPTS\n};\nconst predefined = {\n  Aggron: AggronCkitConfig,\n  Lina: LinaCkitConfig\n};\nexports.predefined = predefined;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.AGGRON4.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.AGGRON4.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.AGGRON4.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x093ba9759e1c4a79dd81b0a50de83ab108ffe4eb983b05637bf1f5c1834f31eb',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x2',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x87366c3678f14ccbd6647386a18e05ae27c97978d4a6952fb5820cc698263835',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x3',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x79f90bb5e892d80dd213439eeab551120eb417678824f282b4ffb5f21bad2e1e',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x9154df4f7336402114d04495175b37390ce86a4906d2d4001cf02c3e6d97f39c',\n    INDEX: '0x0',\n    DEP_TYPE: 'code'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.LINA.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.LINA.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.LINA.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x1a04142a2a745fb3b7e0e9b61241676c1c94ad8cdacb36f223661130a23fb007',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x614d40a86e1b29a8f4d8d93b9f3b390bf740803fa19a69f1c95716e029ea09b3',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x9f3aeaf2fc439549cbc870c653374943af96a0658bd6b51be8d8983183e6f52f',\n    HASH_TYPE: 'type',\n    TX_HASH: '0xaa8ab7e97ed6a268be5d7e26d63d115fa77230e51ae437fc532988dd0c3ce10a',\n    INDEX: '0x1',\n    DEP_TYPE: 'code'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","import { CkitInitOptions, predefined } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useMemo } from 'react';\n\nexport interface LocalConfig {\n  ckitConfig: CkitInitOptions;\n  mecuryRPC: string;\n  ckbRPC: string;\n  nervosExploreTxUrlPrefix: string;\n  nervosExploreAddressUrlPrefix: string;\n  nervosExploreSudtUrlPrefix: string;\n}\n\n// TODO remove random when predefined config is ready\nexport function useConfigStorage(): [LocalConfig, (newValue: LocalConfig) => void, () => void] {\n  const initialConfig = useMemo<LocalConfig>(() => {\n    // TODO check network first\n    const ckitConfig: CkitInitOptions = predefined.Aggron;\n    const mecuryRPC = 'https://testnet.ckb.dev/indexer';\n    const ckbRPC = 'https://testnet.ckb.dev/rpc';\n    const nervosExploreTxUrlPrefix = 'https://explorer.nervos.org/aggron/transaction/';\n    const nervosExploreAddressUrlPrefix = 'https://explorer.nervos.org/aggron/address/';\n    const nervosExploreSudtUrlPrefix = 'https://explorer.nervos.org/aggron/sudt/';\n    return {\n      ckitConfig: ckitConfig,\n      mecuryRPC: mecuryRPC,\n      ckbRPC: ckbRPC,\n      nervosExploreTxUrlPrefix: nervosExploreTxUrlPrefix,\n      nervosExploreAddressUrlPrefix: nervosExploreAddressUrlPrefix,\n      nervosExploreSudtUrlPrefix: nervosExploreSudtUrlPrefix,\n    };\n  }, []);\n\n  return useLocalStorage<LocalConfig>('localConfig', initialConfig);\n}\n","import { CkitProvider } from '@ckitjs/ckit';\nimport { useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { useConfigStorage } from 'hooks/useConfigStorage';\n\nexport const CkitProviderContainer = createContainer<CkitProvider | undefined>(() => {\n  const [ckitProvider, setCkitProvider] = useState<CkitProvider>();\n  const [localConfig] = useConfigStorage();\n  useEffect(() => {\n    const provider = new CkitProvider(localConfig.mecuryRPC, localConfig.ckbRPC);\n    void provider.init({ ...localConfig.ckitConfig }).then(() => setCkitProvider(provider));\n  }, [localConfig]);\n\n  return ckitProvider;\n});\n\nexport function useProvider(): CkitProvider {\n  const provider = CkitProviderContainer.useContainer();\n\n  if (!provider) throw new Error('Cannot find provider, make suer useProvider in CkitProviderContainer');\n\n  return provider;\n}\n","import { CkitProvider, NonAcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableNonAcpPwLockWallet extends NonAcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, AcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpPwLockWallet extends AcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { UnipassWallet, CkitProvider } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableUnipassWallet extends UnipassWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'UniPass' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { AbstractWallet, ConnectStatus } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { autorun, runInAction } from 'mobx';\nimport { useLocalObservable } from 'mobx-react-lite';\nimport { useCallback, useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { CkitProviderContainer } from '../CkitProviderContainer';\nimport { ObservableAcpPwLockWallet, ObservableNonAcpPwLockWallet, ObservableUnipassWallet } from 'wallets';\n\nexport interface WalletConnectError {\n  error: Error;\n  index: number;\n}\n\nfunction useWallet() {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [currentWalletName, setCurrentWalletName] = useLocalStorage<string | null>('currentWalletName');\n\n  // TODO refactor to Wallets class\n  const wallets = useLocalObservable<AbstractWallet[]>(() => []);\n  const [signerAddress, setSignerAddress] = useState<string>();\n  const [error, setError] = useState<WalletConnectError | null>(null);\n  const [visible, setVisible] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  const setModalVisible = useCallback((visible: boolean) => {\n    setVisible(visible);\n    setError(null);\n  }, []);\n\n  useEffect(() => {\n    if (!ckitProvider) return;\n    // when the provider has changed, wallets should be construct with the new provider\n    runInAction(() => {\n      wallets.splice(0);\n      wallets.push(\n        new ObservableUnipassWallet(ckitProvider),\n        new ObservableNonAcpPwLockWallet(ckitProvider),\n        new ObservableAcpPwLockWallet(ckitProvider),\n      );\n      wallets.find((value) => value.descriptor.name === currentWalletName)?.connect();\n    });\n  }, [ckitProvider]);\n\n  useEffect(\n    () =>\n      autorun(() => {\n        if (!wallets) return;\n        wallets.forEach((wallet, index) => {\n          const onConnectStatusChanged = (connectStatus: ConnectStatus) => {\n            if (connectStatus === 'disconnected') {\n              const remainConnectedWallet = wallets.find((w) => w.connectStatus === 'connected');\n              if (!remainConnectedWallet) {\n                setCurrentWalletName(null);\n              } else {\n                setCurrentWalletName(remainConnectedWallet.descriptor.name);\n              }\n            }\n            if (connectStatus === 'connected') {\n              setModalVisible(false);\n              const connectedWallet = wallets.find((w) => w.descriptor.name === wallet.descriptor.name);\n              if (!connectedWallet) {\n                throw new Error('exception: wallet could not be found');\n              } else {\n                setCurrentWalletName(connectedWallet.descriptor.name);\n              }\n            }\n          };\n          wallet.on('connectStatusChanged', onConnectStatusChanged);\n          wallet.on('error', (err) =>\n            setError({\n              error: err as Error,\n              index: index,\n            }),\n          );\n        });\n      }),\n    [setModalVisible, wallets],\n  );\n\n  const currentWallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n\n  useEffect(() => {\n    autorun(() => {\n      setSignerAddress(undefined);\n      const wallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n      void Promise.resolve(wallet?.signer?.getAddress()).then((address) => {\n        setSignerAddress(address);\n        setIsInitialized(true);\n      });\n    });\n  }, [currentWalletName]);\n\n  return {\n    isInitialized,\n    wallets,\n    currentWallet,\n    setCurrentWalletName,\n    signerAddress,\n    error,\n    setError,\n    visible,\n    setModalVisible,\n  };\n}\n\nexport const WalletContainer = createContainer(useWallet);\n\nexport const displayWalletName = (name: string | undefined): string => {\n  return name || 'unknown';\n};\n","import { UnipassWallet } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\n\ninterface UnipassContext {\n  shouldLogin: boolean;\n  cacheLogin: () => void;\n  shouldSendTx: boolean;\n  cacheTx: (tx: string | null) => void;\n  clearTx: () => void;\n  cachedTx: string | null;\n}\n\nexport function useUnipass(): UnipassContext {\n  const [cachedTx, cacheTx] = useLocalStorage<string | null>('unipassTx');\n  const adapter = new UnipassWallet.UnipassRedirectAdapter({ host: 'https://unipass.xyz' }); // TODO  use the config\n  return {\n    shouldLogin: adapter.hasLoginInfo(),\n    cacheLogin: () => adapter.saveLoginInfo(),\n    shouldSendTx: adapter.hasSigData(),\n    cacheTx,\n    clearTx: () => cacheTx(null),\n    cachedTx,\n  };\n}\n","import { BigNumber } from 'bignumber.js';\n\nexport class AssetAmount {\n  rawAmount: BigNumber;\n  decimals: number;\n\n  constructor(rawAmount: string | BigNumber, decimals: number) {\n    this.rawAmount = new BigNumber(rawAmount);\n    this.decimals = decimals;\n  }\n\n  static fromRaw(rawAmount: string, decimals: number): AssetAmount {\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  static fromHumanize(humanizeAmount: string, decimals: number): AssetAmount {\n    const rawAmount = new BigNumber(humanizeAmount).times(10 ** decimals);\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  toRawString(): string {\n    return this.rawAmount.toString();\n  }\n\n  toHexString(): string {\n    return '0x' + this.rawAmount.toString(16);\n  }\n\n  toHumanizeString(): string {\n    const humanizeAmount = this.rawAmount.times(10 ** -this.decimals);\n    const originDecimalPlaces = humanizeAmount.decimalPlaces();\n    const rounded = humanizeAmount.decimalPlaces(originDecimalPlaces, BigNumber.ROUND_FLOOR);\n    return rounded.toFormat().toString();\n  }\n}\n","export * from './AssetAmount';\n\nexport function hasProp<O, K extends string | number | symbol>(obj: O, key: K): obj is Record<K, unknown> & O {\n  return obj != null && typeof obj === 'object' && key in obj;\n}\n\nexport function truncateMiddle(str: string, start: number, end = start): string {\n  if (!start || !end || start <= 0 || end <= 0) throw new Error('start or end is invalid');\n  if (str.length <= start + end) return str;\n  return str.slice(0, start) + '...' + str.slice(-end);\n}\n\nconst HEX_REGEX = /^0[xX][0-9a-fA-F]*$/;\n\nexport function isValidHexString(value: string): boolean {\n  return HEX_REGEX.test(value);\n}\n","import { Hash } from '@ckb-lumos/base';\nimport { AbstractTransactionBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Modal } from 'antd';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useConfigStorage } from './useConfigStorage';\nimport { useUnipass } from './useUnipass';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\ntype SendTransactionOption = Transaction | ((provider: CkitProvider, signer: EntrySigner) => Promise<Transaction>);\n\nexport function useSendTransaction(): UseMutationResult<{ txHash: Hash }, unknown, SendTransactionOption> {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { currentWallet } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  const { cacheTx, clearTx } = useUnipass();\n\n  return useMutation(\n    async (option: SendTransactionOption) => {\n      if (!currentWallet?.signer) throw new Error('exception: signer undefined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undefined');\n\n      const tx = typeof option === 'function' ? await option(ckitProvider, currentWallet.signer) : option;\n      if (currentWallet.descriptor.name === 'UniPass') {\n        const serializedTx = AbstractTransactionBuilder.serde.serialize(tx);\n        cacheTx(JSON.stringify(serializedTx));\n      }\n      const txHash = await ckitProvider.sendTransaction(await currentWallet.signer.seal(tx));\n      if (currentWallet.descriptor.name === 'UniPass') {\n        clearTx();\n      }\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { AbstractTransactionBuilder } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { WalletContainer } from 'containers';\nimport { useSendTransaction } from 'hooks/useSendTransaction';\nimport { useUnipass } from 'hooks/useUnipass';\n\nexport const OnIncomplete: React.FC = ({ children }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { isInitialized, setCurrentWalletName } = WalletContainer.useContainer();\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n  const { shouldLogin, cacheLogin, shouldSendTx, cachedTx } = useUnipass();\n\n  useEffect(() => {\n    void (async () => {\n      if (shouldLogin) {\n        setCurrentWalletName('UniPass');\n        cacheLogin();\n      }\n\n      if (shouldSendTx) {\n        if (!isInitialized) return;\n        if (!cachedTx) throw new Error('Could not find transaction to send');\n        const txToSend = AbstractTransactionBuilder.serde.deserialize(cachedTx);\n        await sendTransaction(txToSend as Transaction).catch(() => setIsLoaded(true));\n      }\n\n      setIsLoaded(true);\n    })();\n  }, [isInitialized]);\n\n  if (!isLoaded) return <Spin />;\n  return <>{children}</>;\n};\n","import styled from 'styled-components';\n\nexport const StyledCardWrapper = styled.div`\n  width: 360px;\n  padding: 24px;\n  margin-bottom: 48px;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.08);\n`;\n","import { CheckCircleTwoTone } from '@ant-design/icons';\nimport { Button, Space } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nexport const WalletConnectFC: React.FC = () => {\n  const { currentWallet, setModalVisible } = WalletContainer.useContainer();\n\n  if (currentWallet) {\n    return (\n      <Button size=\"small\" onClick={() => setModalVisible(true)}>\n        <Space>\n          {displayWalletName(currentWallet.descriptor.name)}\n          <CheckCircleTwoTone />\n        </Space>\n      </Button>\n    );\n  }\n\n  return (\n    <Button size=\"small\" type=\"primary\" onClick={() => setModalVisible(true)}>\n      Connect\n    </Button>\n  );\n};\n\nexport const WalletConnect = observer(WalletConnectFC);\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { RecipientOptions, helpers, MintSudtBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendIssueTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  operationKind: 'invite' | 'issue';\n}\n\nexport function useSendIssueTx(): UseMutationResult<unknown, unknown, SendIssueTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendIssueTx'], async (input: SendIssueTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      const recipientsParams: RecipientOptions = {\n        recipient: input.recipient,\n        amount: input.amount,\n      };\n      if (input.operationKind === 'invite') {\n        recipientsParams.capacityPolicy = 'createCell';\n        recipientsParams.additionalCapacity = helpers.CkbAmount.fromCkb(1).toHex();\n        recipientsParams.amount = '0';\n      } else {\n        recipientsParams.capacityPolicy = 'findAcp';\n      }\n      const txBuilder = new MintSudtBuilder({ recipients: [recipientsParams] }, provider, await signer.getAddress());\n      return txBuilder.build();\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { CkbTypeScript } from '@ckitjs/base';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useCallback, useMemo } from 'react';\n\nexport interface AssetMeta {\n  symbol: string;\n  decimal: number;\n  script?: CkbTypeScript;\n}\n\nexport function useAssetMetaStorage(): { assetsMeta: AssetMeta[]; addAssetMeta: (newValue: AssetMeta) => void } {\n  const initialAssetMeta = useMemo<AssetMeta[]>(() => [{ symbol: 'ckb', decimal: 8 }], []);\n  const [assetsMeta, setAssetsMeta] = useLocalStorage<AssetMeta[]>('assetMeta', initialAssetMeta);\n  const addAssetMeta = useCallback(\n    (newValue: AssetMeta) => {\n      setAssetsMeta(assetsMeta.concat(newValue));\n    },\n    [assetsMeta, setAssetsMeta],\n  );\n  return { assetsMeta, addAssetMeta };\n}\n","import { Address, Script } from '@ckb-lumos/base';\nimport { useCallback } from 'react';\nimport { useProvider } from 'containers';\nimport { AssetAmount } from 'utils';\n\ninterface ValidationHelper {\n  validateCkbAddress: (value: Address) => string | undefined;\n  validateInviteAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateIssueAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateTransferAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateAmount: (amount: string, decimal: number) => string | undefined;\n}\n\nexport function useFormValidate(): ValidationHelper {\n  const provider = useProvider();\n\n  const validateCkbAddress = useCallback(\n    (value: Address) => {\n      try {\n        provider.parseToScript(value);\n      } catch (e) {\n        return 'invalid ckb address';\n      }\n    },\n    [provider],\n  );\n\n  // TODO refactor with ScriptManager\n  const isLockscriptACP = useCallback(\n    (script: Script) => {\n      const scripts = provider.config.SCRIPTS;\n      return (\n        script.code_hash === scripts.ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.PW_ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.UNIPASS.CODE_HASH\n      );\n    },\n    [provider],\n  );\n\n  const validateACPAddress = useCallback(\n    (value: Address) => {\n      const error = validateCkbAddress(value);\n      if (error) return error;\n      if (!isLockscriptACP(provider.parseToScript(value))) return 'address not anyone can pay';\n    },\n    [provider, validateCkbAddress, isLockscriptACP],\n  );\n\n  const validateInviteAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length > 0) return 'user already invited';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateIssueAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'please invite first';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateTransferAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'no available acp sudt cell for recipient';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateAmount = useCallback((amount: string, decimal: number) => {\n    const assetAmount = AssetAmount.fromHumanize(amount, decimal);\n    if (assetAmount.rawAmount.isNaN()) return 'invalid number';\n    if (assetAmount.rawAmount.lt(1)) return 'at least issue one token';\n  }, []);\n\n  return { validateCkbAddress, validateInviteAddress, validateIssueAddress, validateTransferAddress, validateAmount };\n}\n","import { Button, Col, Empty, Row, Tooltip, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { WalletContainer } from 'containers/WalletContainer';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\nexport const WalletChange = observer(() => {\n  const { signerAddress, setModalVisible } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  if (!signerAddress) return <Empty />;\n  const truncatedAddress = truncateMiddle(signerAddress, 8);\n  const href = localConfig.nervosExploreAddressUrlPrefix + signerAddress;\n  return (\n    <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n      <Row>\n        <Col span={8} offset={6}>\n          <div style={{ textAlign: 'center' }}>\n            <Tooltip title={<AddressTip copyable>{signerAddress}</AddressTip>}>\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                {truncatedAddress}\n              </a>\n            </Tooltip>\n          </div>\n        </Col>\n        <Col span={8} offset={2}>\n          <div style={{ float: 'right' }}>\n            <Button size=\"small\" onClick={() => setModalVisible(true)}>\n              change\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nconst AddressTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { SyncOutlined, CheckCircleTwoTone, UsbOutlined } from '@ant-design/icons';\nimport { AbstractWallet } from '@ckitjs/base';\nimport { List, Modal, Space, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nconst ModalBorderWrapper = styled.div`\n  .ant-list-item {\n    padding: 4px 0;\n    margin: 4px 0;\n    border-radius: 8px;\n    border: 1px solid rgba(0, 0, 0, 0);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      border-radius: 8px;\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const WalletList = observer(() => {\n  const { wallets, setCurrentWalletName, visible, setError, setModalVisible } = WalletContainer.useContainer();\n\n  return (\n    <Modal\n      closable\n      title={'Choose wallets'}\n      width={312}\n      visible={visible}\n      onCancel={() => setModalVisible(false)}\n      footer={null}\n    >\n      <ModalBorderWrapper>\n        <List\n          pagination={false}\n          dataSource={wallets}\n          renderItem={(item, index) => (\n            <List.Item\n              onClick={() => {\n                setError(null);\n                if (item.connectStatus === 'disconnected') {\n                  item.connect();\n                }\n                if (item.connectStatus === 'connected') {\n                  setCurrentWalletName(item.descriptor.name);\n                  setModalVisible(false);\n                }\n              }}\n            >\n              <WalletListItem wallet={item} index={index} />\n            </List.Item>\n          )}\n        />\n      </ModalBorderWrapper>\n    </Modal>\n  );\n});\n\nexport interface WalletListItemProps {\n  wallet: AbstractWallet;\n  index: number;\n}\n\nexport const WalletListItem = observer((props: WalletListItemProps) => {\n  const { wallet, index } = props;\n  const { error } = WalletContainer.useContainer();\n  if (wallet.connectStatus === 'disconnected') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <UsbOutlined />\n        </Space>\n        {error && error.index === index && <Typography.Text type=\"danger\"> {error.error.message}</Typography.Text>}\n      </div>\n    );\n  }\n  if (wallet.connectStatus === 'connecting') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <SyncOutlined spin />\n        </Space>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Space>\n        {displayWalletName(wallet.descriptor.name)}\n        <CheckCircleTwoTone />\n      </Space>\n    </div>\n  );\n});\n","import { Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletList, WalletChange, WalletConnect } from 'components/Wallet';\n\nexport const AccountView: React.FC = () => {\n  return (\n    <StyledCardWrapper>\n      <div style={{ marginBottom: '24px' }}>\n        <Row>\n          <Col span={12}>\n            <Typography.Title level={3}> Account </Typography.Title>\n          </Col>\n          <Col span={12}>\n            <div style={{ float: 'right', paddingTop: '5px' }}>\n              <WalletConnect />\n            </div>\n          </Col>\n        </Row>\n      </div>\n      <WalletList />\n      <WalletChange />\n    </StyledCardWrapper>\n  );\n};\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetBalanceProps = Pick<AssetMeta, 'decimal'> & { script: AssetMeta['script'] };\n\nexport const AssetBalance: React.FC<AssetBalanceProps> = (props) => {\n  const { script, decimal } = props;\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!ckitProvider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return ckitProvider.getUdtBalance(signerAddress, script);\n      }\n      return ckitProvider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n  if (query.isError) {\n    return <Typography.Text type=\"danger\">error</Typography.Text>;\n  }\n  if (query.data) {\n    return <Typography.Text>{AssetAmount.fromRaw(query.data, decimal).toHumanizeString()}</Typography.Text>;\n  }\n  return <LoadingOutlined />;\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Button, Col, Input, Modal, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta, useFormValidate, useSendIssueTx, useSendTransferTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetMetaProps = Pick<AssetMeta, 'symbol' | 'decimal'> & { script: AssetMeta['script'] };\n\nexport const SendButton: React.FC<AssetMetaProps> = (props) => {\n  const { script, decimal } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const provider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n\n  const issuableSudtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    if (!signerAddress) throw new Error('excepiton: signerAddress undefined');\n    return provider.newSudtScript(signerAddress);\n  }, [provider, signerAddress]);\n\n  const isMint =\n    props.script?.code_hash === issuableSudtScript.code_hash &&\n    props.script.hash_type === issuableSudtScript.hash_type &&\n    props.script.args === issuableSudtScript.args;\n\n  const buttonContent = isMint ? 'mint' : 'send';\n\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!provider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return provider.getUdtBalance(signerAddress, script);\n      }\n      return provider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n\n  const disabled =\n    !isMint &&\n    (query.isLoading || query.isError || !query.data || AssetAmount.fromRaw(query.data, decimal).rawAmount.eq(0));\n\n  return (\n    <div>\n      <Button type=\"link\" disabled={disabled} onClick={() => setVisible(true)}>\n        {buttonContent}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} assetMeta={props} isMint={isMint} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  assetMeta: AssetMetaProps;\n  isMint: boolean;\n}\n\ninterface ModalFormValues {\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  recipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, assetMeta, isMint } = props;\n\n  const { validateCkbAddress, validateIssueAddress, validateTransferAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendTransferTransaction, isLoading: isTransferLoading } = useSendTransferTx();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { recipient: '', amount: '' };\n  const title = (isMint ? 'Mint ' : 'Send ') + assetMeta.symbol;\n  const onSubmit = useCallback(\n    (values: ModalFormValues) => {\n      if (isMint) {\n        sendIssueTransaction({\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          operationKind: 'issue',\n        }).then(() => setVisible(false));\n      } else {\n        sendTransferTransaction({\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          script: assetMeta.script,\n        }).then(() => setVisible(false));\n      }\n    },\n    [isMint, sendIssueTransaction, sendTransferTransaction, assetMeta, setVisible],\n  );\n  const loading = isMint ? isIssueLoading : isTransferLoading;\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    const errors: ModalFormErrors = {};\n\n    if (isMint) {\n      // issue sudt\n      if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n      const recipientError = await validateIssueAddress(values.recipient, assetMeta.script);\n      if (recipientError) errors.recipient = recipientError;\n    } else {\n      if (assetMeta.script) {\n        // transfer sudt\n        const recipientError = await validateTransferAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        // transfer ckb\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    }\n    if (!values.recipient) errors.recipient = 'recipient required';\n\n    const amountError = validateAmount(values.amount, assetMeta.decimal);\n    if (amountError) errors.amount = amountError;\n    if (!values.amount) errors.amount = 'amount required';\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit,\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"recipient\">recipient</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"recipient\" placeholder=\"ckb address\" {...formik.getFieldProps('recipient')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.recipient && formik.errors.recipient && (\n              <Typography.Text type=\"danger\">{formik.errors.recipient}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"amount\">amount:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.amount && formik.errors.amount && (\n              <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={loading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { AcpTransferSudtBuilder, TransferCkbBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { AssetMeta } from './useAssetMetaStorage';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendTransferTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  script: AssetMeta['script'];\n}\n\nexport function useSendTransferTx(): UseMutationResult<unknown, unknown, SendTransferTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendTransferTx'], async (input: SendTransferTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      if (input.script) {\n        const txBuilder = new AcpTransferSudtBuilder(\n          {\n            recipients: [\n              {\n                recipient: input.recipient,\n                sudt: input.script,\n                amount: input.amount,\n                policy: 'findAcp',\n              },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      } else {\n        const txBuilder = new TransferCkbBuilder(\n          { recipients: [{ recipient: input.recipient, amount: input.amount, capacityPolicy: 'createCell' }] },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      }\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport React from 'react';\nimport { AssetBalance } from './AssetBalance';\nimport { SendButton } from './SendButton';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\nexport const AssetList: React.FC = () => {\n  const { assetsMeta } = useAssetMetaStorage();\n  const columns: ColumnsType<AssetMeta> = [\n    {\n      render: (value, record) => <div>{record.symbol}</div>,\n    },\n    {\n      render: (value, record) => <AssetBalance decimal={record.decimal} script={record.script} />,\n    },\n    {\n      render: (value, record) => <SendButton symbol={record.symbol} decimal={record.decimal} script={record.script} />,\n    },\n  ];\n\n  return (\n    <div>\n      <Table size=\"small\" showHeader={false} columns={columns} dataSource={assetsMeta} pagination={{ pageSize: 5 }} />\n    </div>\n  );\n};\n","import { Hash, HashType, HexString } from '@ckb-lumos/base';\nimport { Button, ButtonProps, Col, Input, InputNumber, Modal, Radio, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\nimport { isValidHexString } from 'utils';\n\ninterface AddAssetButtonProps extends ButtonProps {\n  initialAssetMeta?: Partial<ModalFormValues>;\n  buttonContent?: string;\n}\n\nexport const AddAssetButton: React.FC<AddAssetButtonProps> = (props) => {\n  const { initialAssetMeta, buttonContent, ...buttonProps } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  return (\n    <div>\n      <Button {...buttonProps} onClick={() => setVisible(true)}>\n        {buttonContent ? buttonContent : ''}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} initialAssetMeta={initialAssetMeta} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  initialAssetMeta?: Partial<ModalFormValues>;\n}\n\ninterface ModalFormValues {\n  symbol: string;\n  decimal: number;\n  codeHash: Hash;\n  hashType: HashType;\n  args: HexString;\n}\n\ninterface ModalFormErrors {\n  symbol?: string;\n  decimal?: string;\n  codeHash?: string;\n  hashType?: string;\n  args?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, initialAssetMeta } = props;\n\n  const { addAssetMeta } = useAssetMetaStorage();\n\n  const initialValues: ModalFormValues = {\n    symbol: initialAssetMeta?.symbol ? initialAssetMeta.symbol : '',\n    decimal: initialAssetMeta?.decimal ? initialAssetMeta.decimal : 8,\n    codeHash: initialAssetMeta?.codeHash ? initialAssetMeta.codeHash : '',\n    hashType: initialAssetMeta?.hashType ? initialAssetMeta.hashType : 'type',\n    args: initialAssetMeta?.args ? initialAssetMeta.args : '',\n  };\n\n  const validate = (values: ModalFormValues): ModalFormErrors => {\n    const errors: ModalFormErrors = {};\n    if (!values.symbol) {\n      errors.symbol = 'symbol required';\n    }\n    if (values.decimal <= 0) {\n      errors.decimal = 'decimal should be greater than 0';\n    }\n    if (!values.codeHash) {\n      errors.codeHash = 'code hash required';\n    } else {\n      if (!isValidHexString(values.codeHash)) {\n        errors.codeHash = 'code hash invalid hex string';\n      }\n    }\n    if (!values.args) {\n      errors.args = 'args required';\n    } else {\n      if (!isValidHexString(values.args)) {\n        errors.args = 'args invalid hex string';\n      }\n    }\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues, { setSubmitting }) => {\n      const newAssetMeta: AssetMeta = {\n        symbol: values.symbol,\n        decimal: values.decimal,\n        script: {\n          code_hash: values.codeHash,\n          hash_type: values.hashType,\n          args: values.args,\n        },\n      };\n      addAssetMeta(newAssetMeta);\n      setSubmitting(false);\n      setVisible(false);\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title=\"Add asset\" closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"symbol\">symbol:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"symbol\" {...formik.getFieldProps('symbol')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.symbol && formik.errors.symbol && (\n              <Typography.Text type=\"danger\">{formik.errors.symbol}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"decimal\">decimal:</label>\n          </Col>\n          <Col span={16}>\n            <InputNumber\n              id=\"decimal\"\n              onChange={(value) => {\n                void formik.setFieldValue('decimal', value, true);\n              }}\n              onBlur={formik.handleBlur}\n              value={formik.values.decimal}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.decimal && formik.errors.decimal && (\n              <Typography.Text type=\"danger\">{formik.errors.decimal}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"codeHash\">code hash:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"codeHash\" {...formik.getFieldProps('codeHash')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.codeHash && formik.errors.codeHash && (\n              <Typography.Text type=\"danger\">{formik.errors.codeHash}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"hashType\">hash type:</label>\n          </Col>\n          <Col span={16}>\n            <Radio.Group id=\"hashType\" name=\"hashType\" onChange={formik.handleChange} value={formik.values.hashType}>\n              <Radio value=\"type\">type</Radio>\n              <Radio value=\"data\">data</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.hashType && formik.errors.hashType && (\n              <Typography.Text type=\"danger\">{formik.errors.hashType}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"args\">args:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"args\" {...formik.getFieldProps('args')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.args && formik.errors.args && (\n              <Typography.Text type=\"danger\">{formik.errors.args}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        <Button onClick={formik.submitForm}>submit</Button>\n      </div>\n    </Modal>\n  );\n};\n","import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Col, Empty, Row, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { AddAssetButton, AssetList } from 'components/Assets';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const AssetsView: React.FC = observer(() => {\n  const { signerAddress } = WalletContainer.useContainer();\n  return (\n    <div>\n      <StyledCardWrapper>\n        <div style={{ marginBottom: '12px' }}>\n          <Row>\n            <Col span={12}>\n              <Typography.Title level={3}> Asset </Typography.Title>\n            </Col>\n            <Col span={12}>\n              <div style={{ float: 'right' }}>\n                {signerAddress && (\n                  <AddAssetButton type=\"link\" size=\"large\" icon={<PlusCircleOutlined style={{ fontSize: '24px' }} />} />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <div>\n          {signerAddress && <AssetList />}\n          {!signerAddress && <Empty />}\n        </div>\n      </StyledCardWrapper>\n    </div>\n  );\n});\n","import { utils } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Tooltip, Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\ninterface AssetMetaDisplayProps {\n  symbol: string;\n  decimal: string;\n  script: CkbTypeScript;\n}\n\nexport const AssetMetaDisplay: React.FC<AssetMetaDisplayProps> = (props) => {\n  const { symbol, decimal, script } = props;\n  const [localConfig] = useConfigStorage();\n  const scriptHash = utils.computeScriptHash(script);\n\n  return (\n    <div style={{ marginTop: '24px' }}>\n      <Row>\n        <Col span={7} offset={3}>\n          <Typography.Text>symbol:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{symbol}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>decimal:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{decimal}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>script hash:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Tooltip title={<ScriptTip copyable>{JSON.stringify(script)}</ScriptTip>}>\n            <Typography.Link\n              href={localConfig.nervosExploreSudtUrlPrefix + scriptHash}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {truncateMiddle(scriptHash, 8)}\n            </Typography.Link>\n          </Tooltip>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst ScriptTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Input, Modal, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useFormValidate, useSendIssueTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype OperationKind = 'invite' | 'issue';\n\ninterface IssueOperationProps {\n  assetMeta: AssetMeta;\n}\n\nexport const IssueOperation = observer((props: IssueOperationProps) => {\n  const { assetMeta } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const [operationKind, setOperationKind] = useState<OperationKind>('invite');\n\n  const onClickInvite = () => {\n    setOperationKind('invite');\n    setVisible(true);\n  };\n  const onClickIssue = () => {\n    setOperationKind('issue');\n    setVisible(true);\n  };\n\n  return (\n    <div style={{ marginBottom: '12px' }}>\n      <Row>\n        <Col span={4} offset={4}>\n          <Button onClick={onClickInvite}>invite</Button>\n        </Col>\n        <Col span={4} offset={8}>\n          <Button onClick={onClickIssue}>issue</Button>\n        </Col>\n      </Row>\n      <ModalForm visible={visible} setVisible={setVisible} operationKind={operationKind} assetMeta={assetMeta} />\n    </div>\n  );\n});\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  operationKind: OperationKind;\n  assetMeta: AssetMeta;\n}\n\ninterface ModalFormValues {\n  inviteRecipient: Address;\n  issueRecipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  inviteRecipient?: string;\n  issueRecipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, operationKind, assetMeta } = props;\n\n  const { validateInviteAddress, validateIssueAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { inviteRecipient: '', issueRecipient: '', amount: '' };\n  const title = operationKind === 'invite' ? 'Invite user' : 'Issue ' + assetMeta.symbol;\n  const recipientFieldDisplayName = operationKind === 'invite' ? 'user:' : 'recipient:';\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n    const errors: ModalFormErrors = {};\n\n    if (operationKind === 'invite') {\n      if (!values.inviteRecipient) {\n        errors.inviteRecipient = 'recipient required';\n      } else {\n        const error = await validateInviteAddress(values.inviteRecipient, assetMeta.script);\n        if (error) errors.inviteRecipient = error;\n      }\n    }\n\n    if (operationKind === 'issue') {\n      if (!values.issueRecipient) {\n        errors.issueRecipient = 'recipient required';\n      } else {\n        const recipientError = await validateIssueAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      }\n      if (!values.amount) {\n        errors.amount = 'amount required';\n      } else {\n        const amountError = validateAmount(values.amount, assetMeta.decimal);\n        if (amountError) errors.amount = amountError;\n      }\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues) => {\n      sendIssueTransaction({\n        recipient: values.inviteRecipient,\n        amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n        operationKind: operationKind,\n      }).then(() => setVisible(false));\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      {operationKind === 'invite' && (\n        <div>\n          <Row justify=\"center\" align=\"middle\">\n            <Col span={4}>\n              <label htmlFor=\"inviteRecipient\">{recipientFieldDisplayName}</label>\n            </Col>\n            <Col span={16}>\n              <Input id=\"inviteRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('inviteRecipient')} />\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={6}>\n              {formik.touched.inviteRecipient && formik.errors.inviteRecipient && (\n                <Typography.Text type=\"danger\">{formik.errors.inviteRecipient}</Typography.Text>\n              )}\n            </Col>\n          </Row>\n        </div>\n      )}\n\n      {operationKind === 'issue' && (\n        <div>\n          <div>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issueRecipient\">{recipientFieldDisplayName}</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"issueRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('issueRecipient')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.issueRecipient && formik.errors.issueRecipient && (\n                  <Typography.Text type=\"danger\">{formik.errors.issueRecipient}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"amount\">amount:</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.amount && formik.errors.amount && (\n                  <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={isIssueLoading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { CkbTypeScript } from '@ckitjs/base';\nimport React, { useMemo } from 'react';\nimport { AddAssetButton } from '../Assets';\nimport { AssetMetaDisplay } from './AssetMetaDisplay';\nimport { IssueOperation } from './IssueOperation';\nimport { CkitProviderContainer } from 'containers';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\ninterface IssueAreaProps {\n  issuerAddress: string;\n}\n\nexport const IssueArea: React.FC<IssueAreaProps> = (props) => {\n  const { issuerAddress } = props;\n  const provider = CkitProviderContainer.useContainer();\n  const { assetsMeta } = useAssetMetaStorage();\n\n  const udtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    return provider.newSudtScript(issuerAddress);\n  }, [provider, issuerAddress]);\n\n  const assetMeta = useMemo<AssetMeta | undefined>(() => {\n    return assetsMeta.find(\n      (value) =>\n        value.script?.hash_type === udtScript.hash_type &&\n        value.script.code_hash === udtScript.code_hash &&\n        value.script.args === udtScript.args,\n    );\n  }, [udtScript, assetsMeta]);\n\n  const symbol = assetMeta ? assetMeta.symbol : '?';\n  const decimal = assetMeta ? assetMeta.decimal.toString() : '?';\n\n  return (\n    <>\n      <AssetMetaDisplay symbol={symbol} decimal={decimal} script={udtScript} />\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        {!assetMeta && (\n          <AddAssetButton\n            type=\"primary\"\n            buttonContent=\"Add asset info\"\n            initialAssetMeta={{\n              codeHash: udtScript.code_hash,\n              hashType: udtScript.hash_type,\n              args: udtScript.args,\n            }}\n          />\n        )}\n        {assetMeta && <IssueOperation assetMeta={assetMeta} />}\n      </div>\n    </>\n  );\n};\n","import { Empty, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { IssueArea } from 'components/Issue';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const IssueView: React.FC = observer(() => {\n  const { currentWallet, signerAddress } = WalletContainer.useContainer();\n  const isSupportIssue = currentWallet?.checkSupported('issue-sudt');\n\n  return (\n    <div>\n      {isSupportIssue && (\n        <StyledCardWrapper>\n          <div>\n            <Typography.Title level={3}> Issue </Typography.Title>\n          </div>\n          {!signerAddress && <Empty />}\n          {signerAddress && <IssueArea issuerAddress={signerAddress} />}\n        </StyledCardWrapper>\n      )}\n    </div>\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AccountView } from './Account';\nimport { AssetsView } from './Assets';\nimport { IssueView } from './Issue';\n\nexport const AppView: React.FC = () => {\n  return (\n    <BodyWrapper>\n      <div className=\"app\">\n        <AccountView />\n        <IssueView />\n        <AssetsView />\n      </div>\n    </BodyWrapper>\n  );\n};\n\nconst BodyWrapper = styled.div`\n  padding-bottom: 32px;\n  min-height: 100vh;\n  background: linear-gradient(111.44deg, #a6ded2 0%, #8c99c2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { OnIncomplete } from 'components/OnLoaded';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AppView } from 'views';\nimport './App.less';\n\nconst App: React.FC = () => {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CkitProviderContainer.Provider>\n        <WalletContainer.Provider>\n          <OnIncomplete>\n            <AppView />\n          </OnIncomplete>\n        </WalletContainer.Provider>\n      </CkitProviderContainer.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    void import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\nexports.asyncSleep = asyncSleep;\nexports.randomHexString = randomHexString;\nexports.nonNullable = nonNullable;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.boom = boom;\nexports.asserts = asserts;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}\n\nfunction asyncSleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n *\n * @param lengthWithOut0x expected length does not contain the beginning 0x\n * @example\n * ```ts\n * randomHexString(1); // 0xa\n * randomHexString(1); // 0x2\n * randomHexString(2); // 0xf8\n * ```\n */\n\n\nfunction randomHexString(lengthWithOut0x) {\n  return '0x' + [...Array(lengthWithOut0x)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n\nfunction nonNullable(x) {\n  if (x == null) throw new Error('Null check failed');\n  return x;\n}\n\nfunction bytesToHex(bytes) {\n  return `0x${[...bytes].map(b => b.toString(16).padStart(2, '0')).join('')}`;\n}\n\nfunction hexToBytes(hex) {\n  hex = hex.startsWith('0x') ? hex.slice(2) : hex;\n  const match = hex.match(/.{1,2}/g);\n  if (!match) throw new Error(`cannot parse ${hex} into Uint8Array`);\n  return Uint8Array.from(match.map(byte => parseInt(byte, 16)));\n}\n\nfunction boom(message) {\n  throw new Error(message);\n}\n\nfunction asserts(condition, err) {\n  if (condition) return;\n\n  if (typeof err === 'function') {\n    throw err();\n  }\n\n  if (typeof err === 'string') boom(err);\n  if (err instanceof Error) throw err;\n  boom();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"debug\", {\n  enumerable: true,\n  get: function () {\n    return _debug.debug;\n  }\n});\nObject.defineProperty(exports, \"createDebugger\", {\n  enumerable: true,\n  get: function () {\n    return _debug.createDebugger;\n  }\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _invariant.invariant;\n  }\n});\nObject.defineProperty(exports, \"unimplemented\", {\n  enumerable: true,\n  get: function () {\n    return _assertion.unimplemented;\n  }\n});\nexports.bytes = void 0;\n\nvar _debug = require(\"./debug\");\n\nvar _invariant = require(\"./invariant\");\n\nvar _assertion = require(\"./assertion\");\n\nvar _bytes = _interopRequireWildcard(require(\"./bytes\"));\n\nexports.bytes = _bytes;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"serialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.serialize;\n  }\n});\nObject.defineProperty(exports, \"deserialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.deserialize;\n  }\n});\nexports.Pw = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"./pw.serde\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nfunction fromPwCellDep(x) {\n  return {\n    dep_type: x.depType,\n    out_point: {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    }\n  };\n}\n\nfunction toPwCellDep(x) {\n  return new _pwCore.CellDep(x.dep_type === 'dep_group' ? _pwCore.DepType.depGroup : _pwCore.DepType.code, new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index));\n}\n\nfunction fromPwScript(x) {\n  return {\n    code_hash: x.codeHash,\n    args: x.args,\n    hash_type: x.hashType\n  };\n}\n\nfunction toPwScript(x) {\n  return new _pwCore.Script(x.code_hash, x.args, x.hash_type === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction fromPwCell(x) {\n  return {\n    cell_output: {\n      capacity: x.capacity.toHexString(),\n      type: x.type ? fromPwScript(x.type) : undefined,\n      lock: fromPwScript(x.lock)\n    },\n    out_point: x.outPoint ? {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    } : undefined,\n    data: x.getData()\n  };\n}\n\nfunction isLumosCell(x) {\n  if (typeof x !== 'object' || x == null) return false;\n  return 'cell_output' in x;\n}\n\nfunction toPwCell(x) {\n  if (isLumosCell(x)) {\n    return new _pwCore.Cell(new _pwCore.Amount(x.cell_output.capacity, 0), toPwScript(x.cell_output.lock), x.cell_output.type ? toPwScript(x.cell_output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.data);\n  }\n\n  return new _pwCore.Cell(new _pwCore.Amount(x.output.capacity, 0), toPwScript(x.output.lock), x.output.type ? toPwScript(x.output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.output_data);\n}\n\nfunction toPwOutPoint(x) {\n  return new _pwCore.OutPoint(x.tx_hash, x.index);\n}\n/**\n * from: PW => Lumos\n * to: Lumos => PW\n */\n\n\nconst Pw = {\n  fromPwCellDep,\n  toPwCellDep,\n  fromPwCell,\n  toPwCell,\n  toPwScript,\n  fromPwScript,\n  toPwOutPoint\n};\nexports.Pw = Pw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecipientSameWithSenderError = exports.NoEnoughUdtError = exports.NoEnoughCkbError = exports.NoAvailableCellError = exports.CkitError = void 0;\n\nclass CkitError extends Error {\n  constructor(metadata, message) {\n    super(message);\n    this.metadata = metadata;\n  }\n\n}\n\nexports.CkitError = CkitError;\n\nclass NoAvailableCellError extends CkitError {\n  constructor(metadata, message = 'Cannot find available cell') {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoAvailableCellError = NoAvailableCellError;\n\nclass NoEnoughCkbError extends CkitError {\n  constructor(metadata, message = `Ckb is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughCkbError = NoEnoughCkbError;\n\nclass NoEnoughUdtError extends CkitError {\n  constructor(metadata, message = `Udt is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughUdtError = NoEnoughUdtError;\n\nclass RecipientSameWithSenderError extends CkitError {\n  constructor(metadata, message = `The recipient and sender cannot be the same one`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.RecipientSameWithSenderError = RecipientSameWithSenderError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ScriptManager\", {\n  enumerable: true,\n  get: function () {\n    return _ScriptManager.ScriptManager;\n  }\n});\nObject.defineProperty(exports, \"AbstractProvider\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.AbstractProvider;\n  }\n});\nObject.defineProperty(exports, \"ProviderConfig\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.ProviderConfig;\n  }\n});\nObject.defineProperty(exports, \"InitOptions\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.InitOptions;\n  }\n});\nObject.defineProperty(exports, \"AbstractWallet\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractWallet.AbstractWallet;\n  }\n});\n\nvar _ScriptManager = require(\"./ScriptManager\");\n\nvar _AbstractProvider = require(\"./AbstractProvider\");\n\nvar _AbstractWallet = require(\"./AbstractWallet\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SerializeRcLockWitnessLock: true,\n  SerializeUdtInfo: true,\n  UdtInfo: true\n};\nObject.defineProperty(exports, \"SerializeRcLockWitnessLock\", {\n  enumerable: true,\n  get: function () {\n    return _rcLock.SerializeRcLockWitnessLock;\n  }\n});\nObject.defineProperty(exports, \"SerializeUdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.SerializeUdtInfo;\n  }\n});\nObject.defineProperty(exports, \"UdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.UdtInfo;\n  }\n});\n\nvar _rcLock = require(\"./generated/rc-lock\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractTransactionBuilder = void 0;\n\nvar _pw = require(\"../helpers/pw\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO migrate to mercury mode\nclass AbstractTransactionBuilder {\n  serialize(tx) {\n    return AbstractTransactionBuilder.serde.serialize(tx);\n  }\n\n}\n\nexports.AbstractTransactionBuilder = AbstractTransactionBuilder;\n\n_defineProperty(AbstractTransactionBuilder, \"serde\", {\n  serialize(deserialized) {\n    return (0, _pw.serialize)(deserialized);\n  },\n\n  deserialize(serialized) {\n    return (0, _pw.deserialize)(serialized);\n  }\n\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteLenOfSudt = byteLenOfSudt;\nexports.byteLenOfCkbLiveCell = byteLenOfCkbLiveCell;\nexports.byteLenOfRcCell = byteLenOfRcCell;\n\nfunction byteLenOfSudt(lockArgsByteLen = 20) {\n  return 8\n  /* capacity: u64 */\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* output_data */\n  16\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfCkbLiveCell(lockArgsByteLen = 20) {\n  // prettier-ignore\n  return 8\n  /* capacity: u64 */\n  + 32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  ;\n}\n/**\n *  * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u32\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\n\n\nfunction byteLenOfRcCell(lockArgsByteLen, typeArgsByteLen, dataLen) {\n  const typeScriptLen = typeArgsByteLen ? 32\n  /* code_hash: U256 */\n  + typeArgsByteLen\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  : 0; // prettier-ignore\n\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  typeScriptLen +\n  /* output_data */\n  dataLen\n  /* data: u128, amount, little-endian */\n  ;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPwSenderBuilder = void 0;\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _lodash = require(\"lodash\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../unipass/config\");\n\nclass AbstractPwSenderBuilder extends _pwCore.Builder {\n  constructor(provider) {\n    super(Number(provider.config.MIN_FEE_RATE));\n    this.provider = provider;\n  }\n\n  getCellDepByKey(key) {\n    if (key === 'RC_LOCK') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('RC_LOCK')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SUDT') return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SUDT'))];\n\n    if (key === 'ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'UNIPASS') return (0, _config.getCellDeps)(this.provider.config.PREFIX === 'ckb');\n\n    if (key === 'PW_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('PW_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'PW_NON_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('PW_NON_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SECP256K1_BLAKE160') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    return [];\n  }\n\n  getCellDepByScript(script) {\n    // typeid script has no deps\n    if (script.code_hash === '0x00000000000000000000000000000000000000000000000000545950455f4944') return [];\n\n    const keyToTemplate = () => {\n      const foundEntry = Object.entries(this.provider.config.SCRIPTS).find(([, config]) => {\n        return config.CODE_HASH === script.code_hash && config.HASH_TYPE === script.hash_type;\n      });\n      if (foundEntry) return foundEntry[0];\n      return undefined;\n    };\n\n    const key = keyToTemplate();\n    if (!key) throw new Error(`Unknown script, code_hash: ${script.code_hash}, hash_type: ${script.hash_type}`);\n    return this.getCellDepByKey(key);\n  }\n\n  getCellDeps(scripts = []) {\n    return (0, _lodash.uniqWith)(scripts.flatMap(script => this.getCellDepByScript(script)), (dep1, dep2) => dep1.sameWith(dep2));\n  }\n\n  getCellDepsByCells(inputCells, outputCells) {\n    const inputLockAndTypeScripts = inputCells.flatMap(cell => cell.type ? [cell.lock.serializeJson(), cell.type.serializeJson()] : [cell.lock.serializeJson()]);\n    const outputTypeScripts = outputCells.flatMap(cell => cell.type ? [cell.type.serializeJson()] : []);\n    return this.getCellDeps(inputLockAndTypeScripts.concat(outputTypeScripts));\n  } // TODO refactor to ConfigManager\n\n\n  getWitnessPlaceholder(address) {\n    const isTemplateOf = (key, address) => {\n      const script = this.provider.parseToScript(address);\n      const scriptConfig = this.provider.getScriptConfig(key);\n      return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n    };\n\n    if (isTemplateOf('SECP256K1_BLAKE160', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('UNIPASS', address)) {\n      return {\n        lock: '0x' + '0'.repeat(2082),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('RC_LOCK', address)) {\n      const byteLength = (0, _rcLock.SerializeRcLockWitnessLock)({\n        signature: new _ckbJsToolkit.Reader('0x' + '0'.repeat(130))\n      }).byteLength;\n      return {\n        lock: '0x' + '0'.repeat(byteLength * 2),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    (0, _utils.boom)(`Unsupported lock ${address}`);\n  }\n\n}\n\nexports.AbstractPwSenderBuilder = AbstractPwSenderBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractSingleEntrySigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _PwAdapterSigner = require(\"./pw/PwAdapterSigner\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractSingleEntrySigner {\n  constructor(options) {\n    var _options$hasher;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    const hasher = (_options$hasher = options.hasher) !== null && _options$hasher !== void 0 ? _options$hasher : new _pwCore.Blake2bHasher();\n    this.adapter = new _PwAdapterSigner.PwAdapterSigner(this, options.provider, hasher);\n  }\n\n  // TODO refactor to sig entry to adapt mercury\n\n  /**\n   *\n   * @param tx the tx is actually PwTransaction, but may change in the future in order to migrate to mercury\n   */\n  async seal(tx) {\n    const signed = await this.adapter.sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.AbstractSingleEntrySigner = AbstractSingleEntrySigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require(\"./utils\");\n\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _utils[key];\n    }\n  });\n});\n\nvar _struct = require(\"./struct\");\n\nObject.keys(_struct).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _struct[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _struct[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Amount = require(\"./Amount\");\n\nObject.keys(_Amount).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Amount[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _Amount[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detect = detect;\nexports.hashMessage = hashMessage;\nexports.InternalNonAcpPwLockSigner = exports.NonAcpPwLockWallet = exports.AcpPwLockWallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _utils = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction detect() {\n  return (0, _detectProvider.default)().then(() => window.ethereum);\n}\n\nclass AbstractPwWallet extends _base.AbstractWallet {\n  constructor(ckitProvider) {\n    super();\n    this.ckitProvider = ckitProvider;\n\n    _defineProperty(this, \"listener\", addresses => {\n      if (!Array.isArray(addresses)) return;\n\n      if (addresses.length === 0) {\n        this.emitConnectStatusChanged('disconnected');\n        return;\n      }\n\n      this.emitChangedSigner(this.produceSigner());\n    });\n\n    this.setDescriptor({\n      features: this.describeFeatures(),\n      description: 'Interacting with CKB via MetaMask',\n      name: 'NonAcpPwLockWallet'\n    });\n  }\n\n  disconnect() {\n    void detect().then(ethProvider => ethProvider.removeEventListener('accountsChanged', this.listener)).then(() => super.disconnect());\n  }\n\n  async tryConnect() {\n    const ethProvider = await detect();\n    ethProvider.addListener('accountsChanged', this.listener);\n    return ethProvider.enable().then(() => this.produceSigner());\n  }\n\n}\n\nclass AbstractPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n  }\n\n  async signMessage(message) {\n    const ethereumProvider = await detect();\n    const from = ethereumProvider.selectedAddress;\n    const result = await ethereumProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    return '0x' + _pwCore.Platform.eth.toString(16).padStart(2, '0') + result.slice(2, -2) + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nclass AcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['acp'];\n  }\n\n}\n\nexports.AcpPwLockWallet = AcpPwLockWallet;\n\nclass NonAcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n}\n\nexports.NonAcpPwLockWallet = NonAcpPwLockWallet;\n\nfunction hashMessage(message) {\n  // https://github.com/XuJiandong/pw-lock/blob/develop/c/pw_chain_ethereum.h#L43\n  return new _pwCore.Keccak256Hasher().update('\\x19Ethereum Signed Message:\\n32').update((0, _utils.hexToBytes)(message).buffer).digest().serializeJson();\n}\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass InternalNonAcpPwLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils.hexToBytes)(_classPrivateFieldGet(this, _privateKey)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: this.getEthAddress()\n    });\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable(hashMessage(message), _classPrivateFieldGet(this, _privateKey));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n\n    const platform = _pwCore.Platform.eth.toString(16).padStart(2, '0');\n\n    const sig = result.slice(2, -2);\n    return '0x' + platform + sig + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nexports.InternalNonAcpPwLockSigner = InternalNonAcpPwLockSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startsWith0x = startsWith0x;\nexports.rm0x = rm0x;\nexports.pad0x = pad0x;\nexports.safePadZero = safePadZero;\nexports.prependZeroToEvenLength = prependZeroToEvenLength;\nexports.convertEndian = convertEndian;\nexports.formatByteLike = formatByteLike;\nexports.toUnfixedBuffer = toUnfixedBuffer;\nexports.toFixedBuffer = toFixedBuffer;\nexports.toBuffer = toBuffer;\nexports.pipe = void 0;\n\nvar _buffer = require(\"buffer\");\n\n// TODO replace with safe-buffer\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst pipe = (...fn) => {\n  if (fn.length === 1) return fn[0];\n  return fn.reduce((fn1, fn2) => x => fn2(fn1(x)));\n};\n\nexports.pipe = pipe;\n\nfunction startsWith0x(x) {\n  return typeof x === 'string' && x.startsWith('0x');\n}\n\nfunction rm0x(input) {\n  if (startsWith0x(input)) return input.slice(2);\n  return input;\n}\n\nfunction pad0x(input) {\n  if (startsWith0x(input)) return input;\n  return '0x' + input;\n}\n\nfunction safePadZero(input, le, byteSize) {\n  const isEvenLength = input.length % 2 === 0;\n  const isUnfixed = byteSize === undefined;\n  if (isEvenLength && isUnfixed) return input;\n  const padEvenLength = isEvenLength ? 0 : 1; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const expectedByteSize = isUnfixed ? (input.length + padEvenLength) / 2 : byteSize; // a byte is composed by 2 hex character\n\n  const expectedByteStringLength = expectedByteSize * 2;\n\n  if (le) {\n    return input.slice(0, expectedByteStringLength).padEnd(expectedByteStringLength, '0');\n  }\n\n  return input.slice(-expectedByteStringLength).padStart(expectedByteStringLength, '0');\n}\n\nfunction prependZeroToEvenLength(input) {\n  if (input.length % 2 === 0) return input;\n  return `0${input}`;\n}\n/**\n * convert between little-endian and big-endian bytes.\n * make sure the input is a bytes string of even length and **NOT** starting with 0x\n * @param input\n */\n\n\nfunction convertEndian(input) {\n  if (!input || input.length < 2) return input;\n  const grouped = prependZeroToEvenLength(input).match(/../g); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  return grouped.reverse().join('');\n}\n\n/**\n * A byte is generally composed of two hex characters, and this function ensures that\n * the length of the output byte string used to represent the byte is an even number\n */\nfunction formatByteLike(input, options = {}) {\n  let byteString;\n  if (typeof input === 'string') byteString = rm0x(input);else byteString = _buffer.Buffer.from(input).toString('hex');\n  byteString = safePadZero(byteString, options.le, options.byteSize);\n  const shouldPad0x = !options.rm0x && (options.pad0x || startsWith0x(input));\n  if (options.convertEndian) byteString = convertEndian(byteString);\n  if (shouldPad0x) byteString = pad0x(byteString);\n  return byteString;\n}\n\nfunction toUnfixedBuffer(input) {\n  if (_buffer.Buffer.isBuffer(input) || input instanceof Uint8Array) return _buffer.Buffer.from(input);\n  return _buffer.Buffer.from(formatByteLike(input, {\n    rm0x: true\n  }), 'hex');\n}\n\nfunction toFixedBuffer(buffer, byteSize) {\n  if (byteSize === 0) return _buffer.Buffer.from([]);\n  const unfixed = toUnfixedBuffer(buffer);\n  const unfixedSize = unfixed.length;\n  if (unfixedSize === 0) return _buffer.Buffer.alloc(byteSize);\n  if (unfixedSize === byteSize) return unfixed;\n  if (unfixedSize > byteSize) return unfixed.slice(unfixedSize - byteSize);\n  return _buffer.Buffer.concat([_buffer.Buffer.alloc(byteSize - unfixedSize), unfixed]);\n}\n\nfunction toBuffer(input, byteSize) {\n  if (byteSize === undefined) return toUnfixedBuffer(input);\n  return toFixedBuffer(input, byteSize);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeUTF8Bytes = SerializeUTF8Bytes;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUdtInfo = SerializeUdtInfo;\nexports.SerializeUdtCellData = SerializeUdtCellData;\nexports.UdtCellData = exports.UdtInfo = exports.Byte32 = exports.Uint128 = exports.UTF8Bytes = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass UTF8Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.UTF8Bytes = UTF8Bytes;\n\nfunction SerializeUTF8Bytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass UdtInfo {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for decimals: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new UTF8Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getDecimals() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getName() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSymbol() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getDescription() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtInfo = UdtInfo;\n\nfunction SerializeUdtInfo(value) {\n  const buffers = [];\n  const decimalsView = new DataView(new ArrayBuffer(1));\n  decimalsView.setUint8(0, value.decimals);\n  buffers.push(decimalsView.buffer);\n  buffers.push(SerializeUTF8Bytes(value.name));\n  buffers.push(SerializeUTF8Bytes(value.symbol));\n  buffers.push(SerializeUTF8Bytes(value.description));\n  return serializeTable(buffers);\n}\n\nclass UdtCellData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for version: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new Uint128(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Uint128(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new Byte32(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new UdtInfo(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getCurrentSupply() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMaxSupply() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSudtScriptHash() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUdtInfo() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UdtInfo(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtCellData = UdtCellData;\n\nfunction SerializeUdtCellData(value) {\n  const buffers = [];\n  const versionView = new DataView(new ArrayBuffer(1));\n  versionView.setUint8(0, value.version);\n  buffers.push(versionView.buffer);\n  buffers.push(SerializeUint128(value.current_supply));\n  buffers.push(SerializeUint128(value.max_supply));\n  buffers.push(SerializeByte32(value.sudt_script_hash));\n  buffers.push(SerializeUdtInfo(value.udt_info));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  helpers: true,\n  errors: true,\n  utils: true,\n  predefined: true\n};\nObject.defineProperty(exports, \"predefined\", {\n  enumerable: true,\n  get: function () {\n    return _predefined.predefined;\n  }\n});\nexports.utils = exports.errors = exports.helpers = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _wallets = require(\"./wallets\");\n\nObject.keys(_wallets).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _wallets[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _wallets[key];\n    }\n  });\n});\n\nvar _providers = require(\"./providers\");\n\nObject.keys(_providers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _providers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _providers[key];\n    }\n  });\n});\n\nvar _txBuilders = require(\"./tx-builders\");\n\nObject.keys(_txBuilders).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _txBuilders[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _txBuilders[key];\n    }\n  });\n});\n\nvar _helpers = _interopRequireWildcard(require(\"./helpers\"));\n\nexports.helpers = _helpers;\n\nvar _errors = _interopRequireWildcard(require(\"./errors\"));\n\nexports.errors = _errors;\n\nvar _utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = _utils;\n\nvar _predefined = require(\"./predefined\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  AbstractTransactionBuilder: true,\n  SerializedTx: true,\n  DeserializedTx: true\n};\nObject.defineProperty(exports, \"AbstractTransactionBuilder\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.AbstractTransactionBuilder;\n  }\n});\nObject.defineProperty(exports, \"SerializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.SerializedTx;\n  }\n});\nObject.defineProperty(exports, \"DeserializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.DeserializedTx;\n  }\n});\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _AcpTransferSudtBuilder = require(\"./AcpTransferSudtBuilder\");\n\nObject.keys(_AcpTransferSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _AcpTransferSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _AcpTransferSudtBuilder[key];\n    }\n  });\n});\n\nvar _TransferCkbBuilder = require(\"./TransferCkbBuilder\");\n\nObject.keys(_TransferCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _TransferCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _TransferCkbBuilder[key];\n    }\n  });\n});\n\nvar _MintSudtBuilder = require(\"./MintSudtBuilder\");\n\nObject.keys(_MintSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _MintSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintSudtBuilder[key];\n    }\n  });\n});\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _mercuryClient = require(\"@ckitjs/mercury-client\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _utils = require(\"../../utils\");\n\nvar _IndexerCellProvider = require(\"./IndexerCellProvider\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryProvider extends _base.AbstractProvider {\n  constructor(mercuryRpc = 'http://127.0.0.1:8116', ckbRpc = 'http://127.0.0.1:8114') {\n    super();\n\n    _defineProperty(this, \"mercury\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    if (mercuryRpc instanceof _mercuryClient.MercuryClient) this.mercury = mercuryRpc;else this.mercury = new _mercuryClient.MercuryClient(mercuryRpc);\n    if (ckbRpc instanceof _rpc.RPC) this.rpc = ckbRpc;else this.rpc = new _rpc.RPC(ckbRpc);\n  }\n\n  async collectCkbLiveCells(address, minimalCapacity) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), // live cell only\n    (0, _rxjs.scan)((acc, next) => ({\n      cells: acc.cells.concat(next),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)(next.output.capacity))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt((0, _helpers.BN)(minimalCapacity)), true));\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if (acc.amount.lt((0, _helpers.BN)(minimalCapacity))) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n  /**\n   * Calculate the capacity of all cells with only locks\n   */\n\n\n  async getCkbLiveCellsBalance(address) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), (0, _rxjs.reduce)((balance, cell) => balance.plus((0, _helpers.BN)(cell.output.capacity)), (0, _helpers.BN)(0)));\n    const balance = await (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    });\n    return '0x' + balance.toString(16);\n  }\n\n  getTxPoolInfo() {\n    return this.rpc.tx_pool_info();\n  }\n\n  getChainInfo() {\n    return this.rpc.get_blockchain_info();\n  }\n\n  sendTransaction(tx) {\n    return this.rpc.send_transaction(tx, 'passthrough');\n  }\n\n  async collectUdtCells(address, udt, minimalAmount) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.scan)((acc, resolvedCell) => ({\n      cells: acc.cells.concat(resolvedCell),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt(minimalAmount), true) // inclusive last to ensure cells are enough\n    );\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if ((0, _helpers.BN)(acc.amount).lt(minimalAmount)) {\n      throw new _errors.NoEnoughUdtError({\n        lock,\n        expected: minimalAmount,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  getUdtBalance(address, udt) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.reduce)((acc, resolvedCell) => (0, _helpers.BN)(acc).plus((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))), (0, _helpers.BN)(0)));\n    return (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    }).then(x => '0x' + x.toString(16));\n  }\n\n  async waitForTransactionCommitted(txHash, options = {}) {\n    const {\n      pollIntervalMs = 1000,\n      timeoutMs = 120000\n    } = options;\n    const start = Date.now();\n    let result = null;\n\n    while (Date.now() - start <= timeoutMs) {\n      var _tx$tx_status;\n\n      const tx = await this.rpc.get_transaction(txHash);\n\n      if ((tx === null || tx === void 0 ? void 0 : (_tx$tx_status = tx.tx_status) === null || _tx$tx_status === void 0 ? void 0 : _tx$tx_status.status) === 'committed') {\n        result = tx.transaction;\n        break;\n      }\n\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    const rpcTip = Number(await this.rpc.get_tip_block_number());\n\n    while (Date.now() - start <= timeoutMs) {\n      const mercuryTip = await this.mercury.get_tip();\n      if (Number(mercuryTip.block_number) >= rpcTip) break;\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    return result;\n  }\n\n  asIndexerCellProvider() {\n    return new _IndexerCellProvider.MercuryCellProvider(this.mercury);\n  }\n\n}\n\nexports.MercuryProvider = MercuryProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractProvider = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _typeid = require(\"./typeid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractProvider {\n  constructor() {\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"_config\", void 0);\n  }\n\n  get config() {\n    if (!this._config) throw new Error('Cannot find the config, maybe provider is not initialied');\n    return this._config;\n  }\n\n  getScriptConfig(key) {\n    return this.config.SCRIPTS[key];\n  }\n\n  newScript(configKey, args) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      code_hash: scriptConfig.CODE_HASH,\n      args,\n      hash_type: scriptConfig.HASH_TYPE\n    };\n  }\n\n  newTypeIdScript(args) {\n    return {\n      code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n      // Buffer.from('TYPE_ID')\n      hash_type: 'type',\n      args\n    };\n  }\n\n  generateTypeIdScript(input, outputIndex) {\n    return (0, _typeid.generateTypeIdScript)(input, outputIndex);\n  }\n\n  getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  findCellDepByAddress(address) {\n    const script = this.parseToScript(address);\n    const scriptConfigs = Object.values(this.config.SCRIPTS);\n    if (scriptConfigs == null) return undefined;\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === script.code_hash && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === script.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      dep_type: found.DEP_TYPE,\n      out_point: {\n        tx_hash: found.TX_HASH,\n        index: found.INDEX\n      }\n    };\n  }\n\n  findCellDepByScript(script) {\n    return this.findCellDepByAddress(this.parseToAddress(script));\n  }\n  /**\n   * init the provider\n   * @param config if no config is provided, {@link getChainInfo} will be called to check the network type, and using the predefined config\n   */\n\n\n  async init(config) {\n    if (this.initialized) return;\n\n    if (config) {\n      const MIN_FEE_RATE = config.MIN_FEE_RATE ? config.MIN_FEE_RATE : (await this.getTxPoolInfo()).min_fee_rate;\n      this._config = { ...config,\n        MIN_FEE_RATE\n      };\n    } else {\n      const chainInfo = await this.getChainInfo();\n      const isMainnet = chainInfo.chain === 'ckb';\n      const txPoolInfo = await this.getTxPoolInfo();\n      this._config = isMainnet ? { ..._configManager.predefined.LINA,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      } : { ..._configManager.predefined.AGGRON4,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      };\n    }\n\n    this.initialized = true;\n  }\n\n  parseToAddress(script) {\n    return (0, _helpers.generateAddress)(script, {\n      config: this.config\n    });\n  }\n  /**\n   * parse an {@link Address} to script, throws an error when parsing failed\n   * @param address\n   */\n\n\n  parseToScript(address) {\n    return (0, _helpers.parseAddress)(address, {\n      config: this.config\n    });\n  }\n\n}\n\nexports.AbstractProvider = AbstractProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateTypeIdScript = generateTypeIdScript;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nfunction toArrayBuffer(buf) {\n  const ab = new ArrayBuffer(buf.length);\n  const view = new Uint8Array(ab);\n\n  for (let i = 0; i < buf.length; ++i) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    view[i] = buf[i];\n  }\n\n  return ab;\n}\n\nfunction toBigUInt64LE(num) {\n  const buf = (0, _easyByte.toBuffer)('', 8);\n\n  if (typeof num === 'bigint') {\n    buf.writeBigUInt64LE(num);\n  } else if (Number.isSafeInteger(Number(num))) {\n    num = Number(num);\n    buf.writeUInt32LE(num & 0xffffffff, 0);\n    buf.writeUInt32LE(num >>> 32 & 0xffffffff, 4);\n  } else {\n    throw new Error(`invalid input ${num}`);\n  }\n\n  return toArrayBuffer(buf);\n}\n\nfunction generateTypeID(input, outputIndex) {\n  const outPointBuf = _base.core.SerializeCellInput(_ckbJsToolkit.normalizers.NormalizeCellInput(input));\n\n  const outputIndexBuf = toBigUInt64LE(outputIndex);\n  const ckbHasher = new _base.utils.CKBHasher();\n  ckbHasher.update(outPointBuf);\n  ckbHasher.update(outputIndexBuf);\n  return ckbHasher.digestHex();\n}\n\nfunction generateTypeIdScript(input, outputIndex) {\n  const args = generateTypeID(input, outputIndex);\n  return {\n    code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n    // Buffer.from('TYPE_ID')\n    hash_type: 'type',\n    args\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createField = createField;\nexports.createFixedStruct = createFixedStruct;\nexports.U128BEJSBI = exports.U128LEJSBI = exports.U64BEJSBI = exports.U64LEJSBI = exports.U128BE = exports.U128LE = exports.I128BE = exports.I128LE = exports.U64BE = exports.U64LE = exports.I64BE = exports.I64LE = exports.U32BE = exports.U32LE = exports.I32BE = exports.I32LE = exports.U16BE = exports.U16LE = exports.I16BE = exports.I16LE = exports.U8 = exports.I8 = exports.FixedStruct = void 0;\n\nvar _buffer = require(\"buffer\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createReader(fnName) {\n  return function (buf, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return buf[fnName](offset);\n  };\n}\n\nfunction createWriter(fnName) {\n  return function (buf, val, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    buf[fnName](val, offset);\n  };\n}\n\nfunction createField(byteWidth, read, write) {\n  return {\n    byteWidth,\n    read,\n    write\n  };\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass FixedStruct {\n  constructor(fields = []) {\n    _defineProperty(this, \"fields\", void 0);\n\n    _defineProperty(this, \"byteWidth\", void 0);\n\n    this.fields = fields;\n    this.byteWidth = fields.reduce((width, field) => width + field[1].byteWidth, 0);\n  }\n\n  field(name, field) {\n    const namedField = [name, field];\n    return new FixedStruct(this.fields.concat([namedField]));\n  }\n\n  decode(buf) {\n    const result = {};\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      const parsed = field.read(buf, offset);\n      offset += field.byteWidth;\n      result[name] = parsed;\n    });\n    return result;\n  }\n\n  encode(obj) {\n    const byteSize = this.fields.reduce((size, [, field]) => field.byteWidth + size, 0);\n\n    const buf = _buffer.Buffer.alloc(byteSize);\n\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      field.write(buf, obj[name], offset);\n      offset += field.byteWidth;\n    });\n    return buf;\n  }\n\n}\n\nexports.FixedStruct = FixedStruct;\n\nfunction bigIntReader(byteSize, le, signed) {\n  return function (buf, offset = 0) {\n    const byteString = (0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n      byteSize,\n      // when the bytes are marked as little endian,\n      // in order to parse the bytes as the correct BigInt,\n      // the bytes need to be reversed to big endian\n      convertEndian: le,\n      // padding a 0x to ensure that it is considered by BigInt as hexadecimal\n      pad0x: true\n    });\n    const val = BigInt(byteString);\n    if (!signed) return val;\n    const signMask = BigInt(1) << BigInt(byteSize * 8 - 1);\n    const valueMask = signMask - BigInt(1);\n    if ((signMask & val) === BigInt(0)) return val;\n    return (valueMask & val) - signMask;\n  };\n}\n\nfunction bigIntWriter(byteSize, le, signed) {\n  return function (buf, input, offset = 0) {\n    let val = input;\n    if (signed && val < BigInt(0)) val = (BigInt(1) << BigInt(byteSize * 8)) + val;\n    const byteString = (0, _utils.formatByteLike)(val.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nfunction jsbiReader(byteSize, le) {\n  return (buf, offset = 0) => _jsbi.default.BigInt((0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n    byteSize,\n    convertEndian: le,\n    pad0x: true\n  }));\n}\n\nfunction jsbiWriter(byteSize, le) {\n  return (buf, input, offset = 0) => {\n    const byteString = (0, _utils.formatByteLike)(input.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nconst I8 = createField(1, createReader('readInt8'), createWriter('writeInt8'));\nexports.I8 = I8;\nconst U8 = createField(1, createReader('readUInt8'), createWriter('writeUInt8'));\nexports.U8 = U8;\nconst I16LE = createField(2, createReader('readInt16LE'), createWriter('writeInt16LE'));\nexports.I16LE = I16LE;\nconst I16BE = createField(2, createReader('readInt16BE'), createWriter('writeInt16BE'));\nexports.I16BE = I16BE;\nconst U16LE = createField(2, createReader('readUInt16LE'), createWriter('writeUInt16LE'));\nexports.U16LE = U16LE;\nconst U16BE = createField(2, createReader('readUInt16BE'), createWriter('writeUInt16BE'));\nexports.U16BE = U16BE;\nconst I32LE = createField(4, createReader('readInt32LE'), createWriter('writeInt32LE'));\nexports.I32LE = I32LE;\nconst I32BE = createField(4, createReader('readInt32BE'), createWriter('writeInt32BE'));\nexports.I32BE = I32BE;\nconst U32LE = createField(4, createReader('readUInt32LE'), createWriter('writeUInt32LE'));\nexports.U32LE = U32LE;\nconst U32BE = createField(4, createReader('readUInt32BE'), createWriter('writeUInt32BE'));\nexports.U32BE = U32BE;\nconst I64LE = createField(8, createReader('readBigInt64LE'), createWriter('writeBigInt64LE'));\nexports.I64LE = I64LE;\nconst I64BE = createField(8, createReader('readBigInt64BE'), createWriter('writeBigInt64BE'));\nexports.I64BE = I64BE;\nconst U64LE = createField(8, createReader('readBigUInt64LE'), createWriter('writeBigUInt64LE'));\nexports.U64LE = U64LE;\nconst U64BE = createField(8, createReader('readBigUInt64BE'), createWriter('writeBigUInt64BE'));\nexports.U64BE = U64BE;\nconst I128LE = createField(16, bigIntReader(16, true, true), bigIntWriter(16, true, true));\nexports.I128LE = I128LE;\nconst I128BE = createField(16, bigIntReader(16, false, true), bigIntWriter(16, false, true));\nexports.I128BE = I128BE;\nconst U128LE = createField(16, bigIntReader(16, true, false), bigIntWriter(16, true, false));\nexports.U128LE = U128LE;\nconst U128BE = createField(16, bigIntReader(16, false, false), bigIntWriter(16, false, false));\nexports.U128BE = U128BE;\nconst U64LEJSBI = createField(8, jsbiReader(8, true), jsbiWriter(8, true));\nexports.U64LEJSBI = U64LEJSBI;\nconst U64BEJSBI = createField(8, jsbiReader(8, false), jsbiWriter(8, false));\nexports.U64BEJSBI = U64BEJSBI;\nconst U128LEJSBI = createField(16, jsbiReader(16, true), jsbiWriter(16, true));\nexports.U128LEJSBI = U128LEJSBI;\nconst U128BEJSBI = createField(16, jsbiReader(16, false), jsbiWriter(16, false));\n/**\n * Create a coder for a fixed-length byte\n * that can easily convert a string of bytes into a plain JS object\n * @example\n * ```typescript\n * const struct = createFixedStruct()\n *  .field('messageType', U8)\n *  .field('messageContent', U64);\n *\n * const parsed = struct.decode(Buffer.from('...'))\n * console.log(parsed) // { messageType: 0, messageContent: ...}\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexports.U128BEJSBI = U128BEJSBI;\n\nfunction createFixedStruct() {\n  return new FixedStruct();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractWallet = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractWallet {\n  // do **NOT** change the value manually\n  // use {@link getConnectStatus} instead of\n  // do **NOT** change the value manually\n  // use {@link getSigner} instead of\n  constructor() {\n    _defineProperty(this, \"descriptor\", {\n      name: 'Unknown Wallet',\n      features: [],\n      description: 'an unknown wallet'\n    });\n\n    _defineProperty(this, \"connectStatus\", 'disconnected');\n\n    _defineProperty(this, \"signer\", void 0);\n\n    _defineProperty(this, \"emitter\", void 0);\n\n    _defineProperty(this, \"on\", (event, listener) => {\n      this.emitter.on(event, listener);\n    });\n\n    this.emitter = new _eventemitter.default();\n  }\n\n  connect() {\n    const isDisconnected = this.connectStatus === 'disconnected';\n    (0, _utils.invariant)(isDisconnected, `[${this.descriptor.name}]: Do not reconnect the wallet`);\n    if (!isDisconnected) return;\n    this.emitConnectStatusChanged('connecting');\n    void this.tryConnect().then(signer => {\n      this.emitConnectStatusChanged('connected');\n      this.emitChangedSigner(signer);\n    }, e => {\n      this.emitError(e);\n      this.emitConnectStatusChanged('disconnected');\n    });\n  }\n\n  disconnect() {\n    this.emitConnectStatusChanged('disconnected');\n    this.emitter.removeAllListeners();\n  }\n\n  checkSupported(feature) {\n    return this.descriptor.features.includes(feature);\n  }\n\n  getConnectStatus() {\n    return this.connectStatus;\n  }\n\n  getSigner() {\n    return this.signer;\n  }\n\n  emitConnectStatusChanged(status) {\n    this.connectStatus = status;\n    this.emitter.emit('connectStatusChanged', status);\n  }\n\n  emitChangedSigner(signer) {\n    this.signer = signer;\n    this.emitter.emit('signerChanged', signer);\n  }\n\n  emitError(error = new Error(`An unknown error occurred in the ${this.descriptor.name}`)) {\n    this.emitter.emit('error', error);\n  }\n\n  setDescriptor(descriptor) {\n    const {\n      name = this.descriptor.name,\n      features = this.descriptor.features,\n      description = this.descriptor.description\n    } = descriptor;\n    this.descriptor = {\n      name,\n      features,\n      description\n    };\n  }\n\n}\n\nexports.AbstractWallet = AbstractWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDebugger = createDebugger;\nexports.debug = void 0;\n\nvar _debug = _interopRequireDefault(require(\"debug\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDebugger(namespace) {\n  if (!namespace.startsWith('ckit-')) namespace = 'ckit-' + namespace;\n  return (0, _debug.default)(namespace);\n}\n\nconst debug = (0, _debug.default)('ckit');\nexports.debug = debug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _tinyInvariant.default;\n  }\n});\n\nvar _tinyInvariant = _interopRequireDefault(require(\"tiny-invariant\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.concat = concat;\nexports.rm0x = rm0x;\nexports.toHex = toHex;\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isNumberLike(x) {\n  if (typeof x === 'number') return true;\n  if (x === null || x === undefined) return false;\n  return typeof (x === null || x === void 0 ? void 0 : x.toString) === 'function';\n}\n/**\n * concat byte-like into a hex string\n *\n * @example\n * concat('00', '01') // 0x0001\n * @param hexes\n */\n\n\nfunction concat(...hexes) {\n  return '0x' + hexes.map(padToEven).join('');\n}\n/**\n * pad a big-endian string to even length\n * @param x\n */\n\n\nfunction padToEven(x) {\n  let result = rm0x(toHex(x));\n  if (result.length % 2 !== 0) result = '0' + x;\n  return result;\n}\n\nfunction rm0x(hexStringLike) {\n  if (hexStringLike.startsWith('0x')) hexStringLike = hexStringLike.slice(2);\n  return hexStringLike;\n}\n\nfunction toHex(x) {\n  if (typeof x === 'number') {\n    if (x < 0 || !Number.isInteger(x)) throw new Error(`Cannot parse ${x} to a hex string`);\n    return '0x' + x.toString(16);\n  }\n\n  if (typeof x === 'string') {\n    if (x.startsWith('0x')) return x;\n    return '0x' + x;\n  }\n\n  if (typeof x === 'bigint') {\n    return '0x' + x.toString(16);\n  }\n\n  if (Buffer.isBuffer(x)) {\n    return '0x' + x.toString('hex');\n  }\n\n  if (isNumberLike(x)) {\n    return '0x' + _jsbi.default.BigInt(x).toString(16);\n  }\n\n  throw new Error(`Cannot parse ${x} to a hex string`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  internal: true,\n  AcpPwLockWallet: true,\n  NonAcpPwLockWallet: true,\n  RcOwnerWallet: true,\n  RcPwSigner: true\n};\nObject.defineProperty(exports, \"AcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.AcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"NonAcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.NonAcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"RcOwnerWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcOwnerWallet;\n  }\n});\nObject.defineProperty(exports, \"RcPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcPwSigner;\n  }\n});\nexports.internal = void 0;\n\nvar _RcInternalSigner = require(\"./RcInternalSigner\");\n\nvar _Secp256k1Wallet = require(\"./Secp256k1Wallet\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nvar _UnipassWallet = require(\"./UnipassWallet\");\n\nObject.keys(_UnipassWallet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _UnipassWallet[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _UnipassWallet[key];\n    }\n  });\n});\n\nvar _RcOwnerWallet = require(\"./RcOwnerWallet\");\n\nconst internal = {\n  RcSecp256k1Signer: _RcInternalSigner.RcSecp256k1Signer,\n  Secp256k1Signer: _Secp256k1Wallet.Secp256k1Signer,\n  RcEthSigner: _RcInternalSigner.RcEthSigner\n};\nexports.internal = internal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcEthSigner = exports.RCLockSigner = exports.RC_MODE = exports.RcSecp256k1Signer = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _txBuilders = require(\"../tx-builders\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\n/**\n * Please do not use this signer directly in a production environment,\n * as it can only be used for testing purposes.\n */\nclass RcSecp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey))\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: _utils.bytes.concat(this.getRcIdentity().flag, this.getRcIdentity().pubkeyHash, 0)\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcSecp256k1Signer = RcSecp256k1Signer;\nlet RC_MODE;\nexports.RC_MODE = RC_MODE;\n\n(function (RC_MODE) {\n  RC_MODE[\"PUBKEY_HASH\"] = \"00\";\n  RC_MODE[\"ACP\"] = \"02\";\n})(RC_MODE || (exports.RC_MODE = RC_MODE = {}));\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass RCLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    };\n  }\n\n  async getAddress() {\n    return await this.getAddressByMode(RC_MODE.ACP);\n  }\n\n  async getAddressByMode(mode) {\n    let pubKeykHash = _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2));\n\n    if (pubKeykHash.startsWith('0x')) {\n      pubKeykHash = pubKeykHash.substring(2);\n    }\n\n    let rc_args = `0x00${pubKeykHash}00`;\n\n    switch (mode) {\n      case RC_MODE.ACP:\n        rc_args = `0x00${pubKeykHash}020000`;\n        break;\n\n      case RC_MODE.PUBKEY_HASH:\n        rc_args = `0x00${pubKeykHash}00`;\n        break;\n\n      default:\n        return Promise.reject(new Error('invalid rc mode'));\n    }\n\n    const config = await this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RCLockSigner = RCLockSigner;\n\nvar _privateKey3 = /*#__PURE__*/new WeakMap();\n\nclass RcEthSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey3.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey3, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.ETH,\n      pubkeyHash: this.getEthAddress()\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    const ethAddress = this.getEthAddress();\n    const rc_args = `0x01${ethAddress.substring(2)}00`;\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils2.hexToBytes)(_classPrivateFieldGet(this, _privateKey3)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable((0, _PwWallet.hashMessage)(message), _classPrivateFieldGet(this, _privateKey3));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const sig = result.slice(2, -2);\n    const signature = '0x' + sig + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcEthSigner = RcEthSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeIdentity = SerializeIdentity;\nexports.SerializeRcIdentity = SerializeRcIdentity;\nexports.SerializeRcIdentityOpt = SerializeRcIdentityOpt;\nexports.SerializeRcLockWitnessLock = SerializeRcLockWitnessLock;\nexports.SerializeScriptVec = SerializeScriptVec;\nexports.SerializeScriptVecOpt = SerializeScriptVecOpt;\nexports.SerializeXudtWitnessInput = SerializeXudtWitnessInput;\nexports.SerializeRCRule = SerializeRCRule;\nexports.SerializeRCCellVec = SerializeRCCellVec;\nexports.SerializeRCData = SerializeRCData;\nexports.SerializeSmtProof = SerializeSmtProof;\nexports.SerializeSmtProofEntry = SerializeSmtProofEntry;\nexports.SerializeSmtProofEntryVec = SerializeSmtProofEntryVec;\nexports.SerializeSmtUpdateItem = SerializeSmtUpdateItem;\nexports.SerializeSmtUpdateItemVec = SerializeSmtUpdateItemVec;\nexports.SerializeSmtUpdateAction = SerializeSmtUpdateAction;\nexports.SerializeXudtData = SerializeXudtData;\nexports.SerializeUint32 = SerializeUint32;\nexports.SerializeUint64 = SerializeUint64;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUint256 = SerializeUint256;\nexports.SerializeBytes = SerializeBytes;\nexports.SerializeBytesOpt = SerializeBytesOpt;\nexports.SerializeBytesVec = SerializeBytesVec;\nexports.SerializeByte32Vec = SerializeByte32Vec;\nexports.SerializeScriptOpt = SerializeScriptOpt;\nexports.SerializeProposalShortId = SerializeProposalShortId;\nexports.SerializeUncleBlockVec = SerializeUncleBlockVec;\nexports.SerializeTransactionVec = SerializeTransactionVec;\nexports.SerializeProposalShortIdVec = SerializeProposalShortIdVec;\nexports.SerializeCellDepVec = SerializeCellDepVec;\nexports.SerializeCellInputVec = SerializeCellInputVec;\nexports.SerializeCellOutputVec = SerializeCellOutputVec;\nexports.SerializeScript = SerializeScript;\nexports.SerializeOutPoint = SerializeOutPoint;\nexports.SerializeCellInput = SerializeCellInput;\nexports.SerializeCellOutput = SerializeCellOutput;\nexports.SerializeCellDep = SerializeCellDep;\nexports.SerializeRawTransaction = SerializeRawTransaction;\nexports.SerializeTransaction = SerializeTransaction;\nexports.SerializeRawHeader = SerializeRawHeader;\nexports.SerializeHeader = SerializeHeader;\nexports.SerializeUncleBlock = SerializeUncleBlock;\nexports.SerializeBlock = SerializeBlock;\nexports.SerializeCellbaseWitness = SerializeCellbaseWitness;\nexports.SerializeWitnessArgs = SerializeWitnessArgs;\nexports.WitnessArgs = exports.CellbaseWitness = exports.Block = exports.UncleBlock = exports.Header = exports.RawHeader = exports.Transaction = exports.RawTransaction = exports.CellDep = exports.CellOutput = exports.CellInput = exports.OutPoint = exports.Script = exports.CellOutputVec = exports.CellInputVec = exports.CellDepVec = exports.ProposalShortIdVec = exports.TransactionVec = exports.UncleBlockVec = exports.ProposalShortId = exports.ScriptOpt = exports.Byte32Vec = exports.BytesVec = exports.BytesOpt = exports.Bytes = exports.Uint256 = exports.Byte32 = exports.Uint128 = exports.Uint64 = exports.Uint32 = exports.XudtData = exports.SmtUpdateAction = exports.SmtUpdateItemVec = exports.SmtUpdateItem = exports.SmtProofEntryVec = exports.SmtProofEntry = exports.SmtProof = exports.RCData = exports.RCCellVec = exports.RCRule = exports.XudtWitnessInput = exports.ScriptVecOpt = exports.ScriptVec = exports.RcLockWitnessLock = exports.RcIdentityOpt = exports.RcIdentity = exports.Identity = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass Identity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 21);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 21;\n  }\n\n}\n\nexports.Identity = Identity;\n\nfunction SerializeIdentity(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 21);\n  return buffer;\n}\n\nclass RcIdentity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Identity(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProofEntryVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getIdentity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Identity(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProofs() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProofEntryVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcIdentity = RcIdentity;\n\nfunction SerializeRcIdentity(value) {\n  const buffers = [];\n  buffers.push(SerializeIdentity(value.identity));\n  buffers.push(SerializeSmtProofEntryVec(value.proofs));\n  return serializeTable(buffers);\n}\n\nclass RcIdentityOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new RcIdentity(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.RcIdentityOpt = RcIdentityOpt;\n\nfunction SerializeRcIdentityOpt(value) {\n  if (value) {\n    return SerializeRcIdentity(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass RcLockWitnessLock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new RcIdentityOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getSignature() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getRcIdentity() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RcIdentityOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getPreimage() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcLockWitnessLock = RcLockWitnessLock;\n\nfunction SerializeRcLockWitnessLock(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.signature));\n  buffers.push(SerializeRcIdentityOpt(value.rc_identity));\n  buffers.push(SerializeBytesOpt(value.preimage));\n  return serializeTable(buffers);\n}\n\nclass ScriptVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Script(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.ScriptVec = ScriptVec;\n\nfunction SerializeScriptVec(value) {\n  return serializeTable(value.map(item => SerializeScript(item)));\n}\n\nclass ScriptVecOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new ScriptVec(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptVecOpt = ScriptVecOpt;\n\nfunction SerializeScriptVecOpt(value) {\n  if (value) {\n    return SerializeScriptVec(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass XudtWitnessInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new ScriptVecOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRawExtensionData() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new ScriptVecOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getExtensionData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtWitnessInput = XudtWitnessInput;\n\nfunction SerializeXudtWitnessInput(value) {\n  const buffers = [];\n  buffers.push(SerializeScriptVecOpt(value.raw_extension_data));\n  buffers.push(SerializeBytesVec(value.extension_data));\n  return serializeTable(buffers);\n}\n\nclass RCRule {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSmtRoot() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getFlags() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RCRule.size());\n    this.getSmtRoot().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.RCRule = RCRule;\n\nfunction SerializeRCRule(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.smt_root)), 0);\n  view.setUint8(0 + Byte32.size(), value.flags);\n  return array.buffer;\n}\n\nclass RCCellVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.RCCellVec = RCCellVec;\n\nfunction SerializeRCCellVec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass RCData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      assertDataLength(this.view.byteLength, \">4\");\n    }\n\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      case 1:\n        new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  unionType() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return \"RCRule\";\n\n      case 1:\n        return \"RCCellVec\";\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  value() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      case 1:\n        return new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n}\n\nexports.RCData = RCData;\n\nfunction SerializeRCData(value) {\n  switch (value.type) {\n    case \"RCRule\":\n      {\n        const itemBuffer = SerializeRCRule(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 0, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    case \"RCCellVec\":\n      {\n        const itemBuffer = SerializeRCCellVec(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 1, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    default:\n      throw new Error(`Invalid type: ${value.type}`);\n  }\n}\n\nclass SmtProof {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtProof = SmtProof;\n\nfunction SerializeSmtProof(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass SmtProofEntry {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for mask: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getMask() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntry = SmtProofEntry;\n\nfunction SerializeSmtProofEntry(value) {\n  const buffers = [];\n  const maskView = new DataView(new ArrayBuffer(1));\n  maskView.setUint8(0, value.mask);\n  buffers.push(maskView.buffer);\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass SmtProofEntryVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new SmtProofEntry(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new SmtProofEntry(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntryVec = SmtProofEntryVec;\n\nfunction SerializeSmtProofEntryVec(value) {\n  return serializeTable(value.map(item => SerializeSmtProofEntry(item)));\n}\n\nclass SmtUpdateItem {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getKey() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getPackedValues() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, SmtUpdateItem.size());\n    this.getKey().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.SmtUpdateItem = SmtUpdateItem;\n\nfunction SerializeSmtUpdateItem(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.key)), 0);\n  view.setUint8(0 + Byte32.size(), value.packed_values);\n  return array.buffer;\n}\n\nclass SmtUpdateItemVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * SmtUpdateItem.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new SmtUpdateItem(this.view.buffer.slice(4 + i * SmtUpdateItem.size(), 4 + (i + 1) * SmtUpdateItem.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtUpdateItemVec = SmtUpdateItemVec;\n\nfunction SerializeSmtUpdateItemVec(value) {\n  const array = new Uint8Array(4 + SmtUpdateItem.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeSmtUpdateItem(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * SmtUpdateItem.size());\n  }\n\n  return array.buffer;\n}\n\nclass SmtUpdateAction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new SmtUpdateItemVec(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getUpdates() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new SmtUpdateItemVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtUpdateAction = SmtUpdateAction;\n\nfunction SerializeSmtUpdateAction(value) {\n  const buffers = [];\n  buffers.push(SerializeSmtUpdateItemVec(value.updates));\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass XudtData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Bytes(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtData = XudtData;\n\nfunction SerializeXudtData(value) {\n  const buffers = [];\n  buffers.push(SerializeBytes(value.lock));\n  buffers.push(SerializeBytesVec(value.data));\n  return serializeTable(buffers);\n}\n\nclass Uint32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  toBigEndianUint32() {\n    return this.view.getUint32(0, false);\n  }\n\n  toLittleEndianUint32() {\n    return this.view.getUint32(0, true);\n  }\n\n  static size() {\n    return 4;\n  }\n\n}\n\nexports.Uint32 = Uint32;\n\nfunction SerializeUint32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 4);\n  return buffer;\n}\n\nclass Uint64 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 8);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 8;\n  }\n\n}\n\nexports.Uint64 = Uint64;\n\nfunction SerializeUint64(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 8);\n  return buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Uint256 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Uint256 = Uint256;\n\nfunction SerializeUint256(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Bytes = Bytes;\n\nfunction SerializeBytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass BytesOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Bytes(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.BytesOpt = BytesOpt;\n\nfunction SerializeBytesOpt(value) {\n  if (value) {\n    return SerializeBytes(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass BytesVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Bytes(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.BytesVec = BytesVec;\n\nfunction SerializeBytesVec(value) {\n  return serializeTable(value.map(item => SerializeBytes(item)));\n}\n\nclass Byte32Vec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Byte32Vec = Byte32Vec;\n\nfunction SerializeByte32Vec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass ScriptOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Script(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptOpt = ScriptOpt;\n\nfunction SerializeScriptOpt(value) {\n  if (value) {\n    return SerializeScript(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass ProposalShortId {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 10);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 10;\n  }\n\n}\n\nexports.ProposalShortId = ProposalShortId;\n\nfunction SerializeProposalShortId(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 10);\n  return buffer;\n}\n\nclass UncleBlockVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new UncleBlock(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new UncleBlock(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlockVec = UncleBlockVec;\n\nfunction SerializeUncleBlockVec(value) {\n  return serializeTable(value.map(item => SerializeUncleBlock(item)));\n}\n\nclass TransactionVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Transaction(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Transaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.TransactionVec = TransactionVec;\n\nfunction SerializeTransactionVec(value) {\n  return serializeTable(value.map(item => SerializeTransaction(item)));\n}\n\nclass ProposalShortIdVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * ProposalShortId.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new ProposalShortId(this.view.buffer.slice(4 + i * ProposalShortId.size(), 4 + (i + 1) * ProposalShortId.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.ProposalShortIdVec = ProposalShortIdVec;\n\nfunction SerializeProposalShortIdVec(value) {\n  const array = new Uint8Array(4 + ProposalShortId.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeProposalShortId(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * ProposalShortId.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellDepVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellDep.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellDep(this.view.buffer.slice(4 + i * CellDep.size(), 4 + (i + 1) * CellDep.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellDepVec = CellDepVec;\n\nfunction SerializeCellDepVec(value) {\n  const array = new Uint8Array(4 + CellDep.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellDep(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellDep.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellInputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellInput.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellInput(this.view.buffer.slice(4 + i * CellInput.size(), 4 + (i + 1) * CellInput.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellInputVec = CellInputVec;\n\nfunction SerializeCellInputVec(value) {\n  const array = new Uint8Array(4 + CellInput.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellInput(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellInput.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellOutputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new CellOutput(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new CellOutput(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutputVec = CellOutputVec;\n\nfunction SerializeCellOutputVec(value) {\n  return serializeTable(value.map(item => SerializeCellOutput(item)));\n}\n\nclass Script {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Byte32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n\n    if (offsets[2] - offsets[1] !== 1) {\n      throw new Error(`Invalid offset for hash_type: ${offsets[1]} - ${offsets[2]}`);\n    }\n\n    new Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCodeHash() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHashType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getArgs() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Script = Script;\n\nfunction SerializeScript(value) {\n  const buffers = [];\n  buffers.push(SerializeByte32(value.code_hash));\n  const hashTypeView = new DataView(new ArrayBuffer(1));\n  hashTypeView.setUint8(0, value.hash_type);\n  buffers.push(hashTypeView.buffer);\n  buffers.push(SerializeBytes(value.args));\n  return serializeTable(buffers);\n}\n\nclass OutPoint {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getTxHash() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getIndex() {\n    return new Uint32(this.view.buffer.slice(0 + Byte32.size(), 0 + Byte32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, OutPoint.size());\n    this.getTxHash().validate(compatible);\n    this.getIndex().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + Uint32.size();\n  }\n\n}\n\nexports.OutPoint = OutPoint;\n\nfunction SerializeOutPoint(value) {\n  const array = new Uint8Array(0 + Byte32.size() + Uint32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.tx_hash)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.index)), 0 + Byte32.size());\n  return array.buffer;\n}\n\nclass CellInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSince() {\n    return new Uint64(this.view.buffer.slice(0, 0 + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getPreviousOutput() {\n    return new OutPoint(this.view.buffer.slice(0 + Uint64.size(), 0 + Uint64.size() + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellInput.size());\n    this.getSince().validate(compatible);\n    this.getPreviousOutput().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint64.size() + OutPoint.size();\n  }\n\n}\n\nexports.CellInput = CellInput;\n\nfunction SerializeCellInput(value) {\n  const array = new Uint8Array(0 + Uint64.size() + OutPoint.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint64(value.since)), 0);\n  array.set(new Uint8Array(SerializeOutPoint(value.previous_output)), 0 + Uint64.size());\n  return array.buffer;\n}\n\nclass CellOutput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint64(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Script(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new ScriptOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCapacity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint64(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getLock() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ScriptOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutput = CellOutput;\n\nfunction SerializeCellOutput(value) {\n  const buffers = [];\n  buffers.push(SerializeUint64(value.capacity));\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeScriptOpt(value.type_));\n  return serializeTable(buffers);\n}\n\nclass CellDep {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getOutPoint() {\n    return new OutPoint(this.view.buffer.slice(0, 0 + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  getDepType() {\n    return this.view.getUint8(0 + OutPoint.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellDep.size());\n    this.getOutPoint().validate(compatible);\n  }\n\n  static size() {\n    return 0 + OutPoint.size() + 1;\n  }\n\n}\n\nexports.CellDep = CellDep;\n\nfunction SerializeCellDep(value) {\n  const array = new Uint8Array(0 + OutPoint.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeOutPoint(value.out_point)), 0);\n  view.setUint8(0 + OutPoint.size(), value.dep_type);\n  return array.buffer;\n}\n\nclass RawTransaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new CellDepVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Byte32Vec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new CellInputVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new CellOutputVec(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[5], offsets[6]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getCellDeps() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellDepVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHeaderDeps() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32Vec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputs() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellInputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputs() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellOutputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputsData() {\n    const start = 24;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RawTransaction = RawTransaction;\n\nfunction SerializeRawTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeUint32(value.version));\n  buffers.push(SerializeCellDepVec(value.cell_deps));\n  buffers.push(SerializeByte32Vec(value.header_deps));\n  buffers.push(SerializeCellInputVec(value.inputs));\n  buffers.push(SerializeCellOutputVec(value.outputs));\n  buffers.push(SerializeBytesVec(value.outputs_data));\n  return serializeTable(buffers);\n}\n\nclass Transaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new RawTransaction(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRaw() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RawTransaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getWitnesses() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Transaction = Transaction;\n\nfunction SerializeTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeRawTransaction(value.raw));\n  buffers.push(SerializeBytesVec(value.witnesses));\n  return serializeTable(buffers);\n}\n\nclass RawHeader {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getVersion() {\n    return new Uint32(this.view.buffer.slice(0, 0 + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getCompactTarget() {\n    return new Uint32(this.view.buffer.slice(0 + Uint32.size(), 0 + Uint32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getTimestamp() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getNumber() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getEpoch() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getParentHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getTransactionsRoot() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getProposalsHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getUnclesHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getDao() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RawHeader.size());\n    this.getVersion().validate(compatible);\n    this.getCompactTarget().validate(compatible);\n    this.getTimestamp().validate(compatible);\n    this.getNumber().validate(compatible);\n    this.getEpoch().validate(compatible);\n    this.getParentHash().validate(compatible);\n    this.getTransactionsRoot().validate(compatible);\n    this.getProposalsHash().validate(compatible);\n    this.getUnclesHash().validate(compatible);\n    this.getDao().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size();\n  }\n\n}\n\nexports.RawHeader = RawHeader;\n\nfunction SerializeRawHeader(value) {\n  const array = new Uint8Array(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint32(value.version)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.compact_target)), 0 + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.timestamp)), 0 + Uint32.size() + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.number)), 0 + Uint32.size() + Uint32.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeUint64(value.epoch)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.parent_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.transactions_root)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.proposals_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.uncles_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.dao)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  return array.buffer;\n}\n\nclass Header {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getRaw() {\n    return new RawHeader(this.view.buffer.slice(0, 0 + RawHeader.size()), {\n      validate: false\n    });\n  }\n\n  getNonce() {\n    return new Uint128(this.view.buffer.slice(0 + RawHeader.size(), 0 + RawHeader.size() + Uint128.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, Header.size());\n    this.getRaw().validate(compatible);\n    this.getNonce().validate(compatible);\n  }\n\n  static size() {\n    return 0 + RawHeader.size() + Uint128.size();\n  }\n\n}\n\nexports.Header = Header;\n\nfunction SerializeHeader(value) {\n  const array = new Uint8Array(0 + RawHeader.size() + Uint128.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeRawHeader(value.raw)), 0);\n  array.set(new Uint8Array(SerializeUint128(value.nonce)), 0 + RawHeader.size());\n  return array.buffer;\n}\n\nclass UncleBlock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlock = UncleBlock;\n\nfunction SerializeUncleBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass Block {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new UncleBlockVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new TransactionVec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUncles() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UncleBlockVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getTransactions() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new TransactionVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Block = Block;\n\nfunction SerializeBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeUncleBlockVec(value.uncles));\n  buffers.push(SerializeTransactionVec(value.transactions));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass CellbaseWitness {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Script(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMessage() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellbaseWitness = CellbaseWitness;\n\nfunction SerializeCellbaseWitness(value) {\n  const buffers = [];\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeBytes(value.message));\n  return serializeTable(buffers);\n}\n\nclass WitnessArgs {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.WitnessArgs = WitnessArgs;\n\nfunction SerializeWitnessArgs(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.lock));\n  buffers.push(SerializeBytesOpt(value.input_type));\n  buffers.push(SerializeBytesOpt(value.output_type));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertToRcIdentityFlag = convertToRcIdentityFlag;\nexports.convertToSudtSupplyInfo = convertToSudtSupplyInfo;\nexports.convertToSudtInfo = convertToSudtInfo;\nexports.RcSupplyLockHelper = exports.RcLockFlag = exports.RcIdentityFlag = exports.OmniSupplyOutputData = exports.RcSupplyOutputData = exports.OmniSupplyLockArgs = exports.OmniIdentityLockArgs = exports.RcSupplyLockArgs = exports.RcIdentityLockArgs = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nfunction Bytes(byteWidth) {\n  return {\n    byteWidth,\n\n    read(buf, offset = 0) {\n      return (0, _easyByte.formatByteLike)(buf.slice(offset, offset + byteWidth), {\n        pad0x: true\n      });\n    },\n\n    write(buf, val, offset = 0) {\n      const byte = (0, _easyByte.formatByteLike)(val, {\n        rm0x: true\n      });\n      buf.write(byte, offset, byteWidth, 'hex');\n    }\n\n  };\n}\n\nconst RcIdentityLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8);\nexports.RcIdentityLockArgs = RcIdentityLockArgs;\nconst RcSupplyLockArgs = RcIdentityLockArgs.field('type_id_hash', Bytes(32));\nexports.RcSupplyLockArgs = RcSupplyLockArgs;\nconst OmniIdentityLockArgs = RcIdentityLockArgs;\nexports.OmniIdentityLockArgs = OmniIdentityLockArgs;\nconst OmniSupplyLockArgs = RcSupplyLockArgs;\n/**\n * @deprecated please migrate to {@link OmniSupplyOutputData}\n */\n\nexports.OmniSupplyLockArgs = OmniSupplyLockArgs;\nconst RcSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LE).field('max_supply', _easyByte.U128LE).field('sudt_script_hash', Bytes(32));\nexports.RcSupplyOutputData = RcSupplyOutputData;\nconst OmniSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LEJSBI).field('max_supply', _easyByte.U128LEJSBI).field('sudt_script_hash', Bytes(32));\n/**\n * {@link https://github.com/XuJiandong/ckb-c-stdlib/blob/4eca989f8a/ckb_identity.h#L45-L51 RC Identity}\n */\n\nexports.OmniSupplyOutputData = OmniSupplyOutputData;\nlet RcIdentityFlag;\nexports.RcIdentityFlag = RcIdentityFlag;\n\n(function (RcIdentityFlag) {\n  RcIdentityFlag[RcIdentityFlag[\"CKB\"] = 0] = \"CKB\";\n  RcIdentityFlag[RcIdentityFlag[\"ETH\"] = 1] = \"ETH\";\n})(RcIdentityFlag || (exports.RcIdentityFlag = RcIdentityFlag = {}));\n\nfunction convertToRcIdentityFlag(flag) {\n  const num = Number(_utils.bytes.toHex(flag));\n  if (num === RcIdentityFlag.CKB) return RcIdentityFlag.CKB;\n  if (num === RcIdentityFlag.ETH) return RcIdentityFlag.ETH;\n  throw new Error(`Unknown RC Identity flag: ${num}`);\n}\n\nlet RcLockFlag;\nexports.RcLockFlag = RcLockFlag;\n\n(function (RcLockFlag) {\n  RcLockFlag[RcLockFlag[\"ROOT\"] = 1] = \"ROOT\";\n  RcLockFlag[RcLockFlag[\"ACP_MASK\"] = 2] = \"ACP_MASK\";\n  RcLockFlag[RcLockFlag[\"SINCE_MASK\"] = 4] = \"SINCE_MASK\";\n  RcLockFlag[RcLockFlag[\"SUPPLY_MASK\"] = 8] = \"SUPPLY_MASK\";\n})(RcLockFlag || (exports.RcLockFlag = RcLockFlag = {}));\n\nfunction convertToSudtSupplyInfo(outputData) {\n  const {\n    current_supply,\n    max_supply,\n    version\n  } = OmniSupplyOutputData.decode((0, _easyByte.toBuffer)(outputData));\n  const fixedDataLen = OmniSupplyOutputData.fields.reduce((acc, field) => acc + field[1].byteWidth, 0);\n  const udtInfo = new _rc_udt_info.UdtInfo(new _ckbJsToolkit.Reader(_utils.bytes.toHex(outputData.slice(2\n  /*0x*/\n  + fixedDataLen * 2))));\n  return {\n    version: _utils.bytes.toHex(version),\n    currentSupply: _utils.bytes.toHex(current_supply),\n    maxSupply: _utils.bytes.toHex(max_supply),\n    description: Buffer.from(udtInfo.getDescription().raw()).toString(),\n    symbol: Buffer.from(udtInfo.getSymbol().raw()).toString(),\n    name: Buffer.from(udtInfo.getName().raw()).toString(),\n    decimals: udtInfo.getDecimals()\n  };\n}\n/**\n * convert a resolved rc-udt cell to {@link SudtInfo}\n * @param cell\n */\n\n\nfunction convertToSudtInfo(cell) {\n  const {\n    rc_identity_flag,\n    rc_identity_pubkey_hash,\n    type_id_hash\n  } = RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(cell.output.lock.args));\n  return {\n    rcIdentity: {\n      flag: rc_identity_flag,\n      pubkeyHash: rc_identity_pubkey_hash\n    },\n    udtId: type_id_hash,\n    ...convertToSudtSupplyInfo(cell.output_data)\n  };\n}\n\nclass RcSupplyLockHelper {\n  constructor(indexer, config) {\n    this.indexer = indexer;\n    this.config = config;\n  }\n\n  async listCreatedInfoCells(options) {\n    const {\n      rcIdentity,\n      udtId\n    } = options;\n    const mercury = this.indexer;\n    const searchKey = {\n      script: { ...this.config.rcLock,\n        args: _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, RcLockFlag.SUPPLY_MASK, udtId !== null && udtId !== void 0 ? udtId : '')\n      },\n      script_type: 'lock'\n    };\n    const supplyCells$ = (0, _rxjs.from)(mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _operators.expand)(res => mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _operators.takeWhile)(res => res.objects.length > 0), (0, _operators.concatMap)(res => res.objects), (0, _operators.toArray)());\n    return (0, _rxjs.lastValueFrom)(supplyCells$);\n  }\n\n  async listCreatedSudt(options) {\n    const infoCells = await this.listCreatedInfoCells(options);\n    return infoCells.map(convertToSudtInfo);\n  }\n\n  newRcSupplyLockScript({\n    rcIdentity,\n    udtId\n  }) {\n    return { ...this.config.rcLock,\n      args: _utils.bytes.toHex(RcSupplyLockArgs.encode({\n        rc_identity_flag: rcIdentity.flag,\n        rc_identity_pubkey_hash: rcIdentity.pubkeyHash,\n        rc_lock_flag: RcLockFlag.SUPPLY_MASK,\n        type_id_hash: udtId\n      }))\n    };\n  }\n  /**\n   * generate sudt script which was issued by a rc_lock_supply\n   * @param options\n   */\n\n\n  newSudtScript({\n    rcIdentity,\n    udtId\n  }) {\n    const infoLock = this.newRcSupplyLockScript({\n      rcIdentity,\n      udtId\n    });\n    return { ...this.config.sudtType,\n      args: _base.utils.computeScriptHash(infoLock)\n    };\n  }\n\n}\n\nexports.RcSupplyLockHelper = RcSupplyLockHelper;"],"sourceRoot":""}